import{x as hs,j as e,y as Ae,z as De,A as Re,P as O,b as ye,c as ve,a as ps,e as Y,u as G,D as xs,E as Te,F as Ee,G as Le,H as fs,d as gs,h as ys}from"./ui-vendor-ByqAr3tj.js";import{a as o,u as vs}from"./react-vendor-LRKn6Gx2.js";import{c as T,a as W,b as bs,u as js,C as B,d as V,e as H,f as q,g as $,B as A,s as Ce,h as w,p as ws,i as _e,j as Ns,T as ks,k as ie,l as D,F as Ss,D as ze,m as ae,n as Cs,o as Pe,q as Ps,r as he,t as Ms,v as Is,I as te,E as As,Z as le,P as ce,w as de,x as Ds,y as Rs,z as Ts,A as me,G as R,H as Me,J as Es,M as Ls}from"./index-Tvsco1qO.js";import"./syntax-C7EQ9WnS.js";import"./markdown-Dw-9lzaj.js";import"./math-DngYtKHB.js";const _s=T("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const zs=T("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Us=T("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const Bs=T("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const $s=T("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const Os=T("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const pe=T("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Ks=T("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const Fs=T("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Vs=T("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const U=T("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const Hs=T("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const qs=T("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Gs=T("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ys=T("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Js=hs,Ue=o.forwardRef(({className:s,...t},a)=>e.jsx(Ae,{ref:a,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));Ue.displayName=Ae.displayName;const Z=o.forwardRef(({className:s,...t},a)=>e.jsx(De,{ref:a,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s),...t}));Z.displayName=De.displayName;const Q=o.forwardRef(({className:s,...t},a)=>e.jsx(Re,{ref:a,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));Q.displayName=Re.displayName;function Ws(s){return{...s,providers:(s.providers??[]).map(t=>({...t,apiKey:""}))}}var Xs="Label",Be=o.forwardRef((s,t)=>e.jsx(O.label,{...s,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(s.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Be.displayName=Xs;var $e=Be;const Zs=bs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),L=o.forwardRef(({className:s,...t},a)=>e.jsx($e,{ref:a,className:W(Zs(),s),...t}));L.displayName=$e.displayName;const Qs=[{value:"light",icon:qs,label:"Light",desc:"Bright and clean"},{value:"dark",icon:Fs,label:"Dark",desc:"Easy on the eyes"},{value:"system",icon:Ks,label:"System",desc:"Match device"}],et=o.forwardRef(function(t,a){const{theme:n,setTheme:l}=js();return e.jsxs(B,{children:[e.jsxs(V,{children:[e.jsx(H,{children:"Appearance"}),e.jsx(q,{children:"Customize the look and feel of the application"})]}),e.jsx($,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(L,{children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Qs.map(({value:h,icon:i,label:d,desc:y})=>e.jsxs("button",{onClick:()=>l(h),className:`p-4 rounded-xl border-2 transition-all text-left ${n===h?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent/50"}`,children:[e.jsx(i,{className:`h-6 w-6 mb-2 ${n===h?"text-primary":"text-muted-foreground"}`}),e.jsx("div",{className:"font-medium",children:d}),e.jsx("div",{className:"text-xs text-muted-foreground",children:y})]},h))})]})})]})});var Oe=["PageUp","PageDown"],Ke=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ee="Slider",[xe,st,tt]=ps(ee),[Ve]=ve(ee,[tt]),[at,ne]=Ve(ee),He=o.forwardRef((s,t)=>{const{name:a,min:n=0,max:l=100,step:h=1,orientation:i="horizontal",disabled:d=!1,minStepsBetweenThumbs:y=0,defaultValue:m=[n],value:v,onValueChange:x=()=>{},onValueCommit:b=()=>{},inverted:N=!1,form:j,...f}=s,g=o.useRef(new Set),u=o.useRef(0),P=i==="horizontal"?nt:rt,[I=[],r]=ye({prop:v,defaultProp:m,onChange:S=>{[...g.current][u.current]?.focus(),x(S)}}),c=o.useRef(I);function p(S){const _=dt(I,S);E(S,_)}function k(S){E(S,u.current)}function C(){const S=c.current[u.current];I[u.current]!==S&&b(I)}function E(S,_,{commit:z}={commit:!1}){const X=pt(h),se=xt(Math.round((S-n)/h)*h+n,X),K=Te(se,[n,l]);r((F=[])=>{const J=lt(F,K,_);if(ht(J,y*h)){u.current=J.indexOf(K);const Se=String(J)!==String(F);return Se&&z&&b(J),Se?J:F}else return F})}return e.jsx(at,{scope:s.__scopeSlider,name:a,disabled:d,min:n,max:l,valueIndexToChangeRef:u,thumbs:g.current,values:I,orientation:i,form:j,children:e.jsx(xe.Provider,{scope:s.__scopeSlider,children:e.jsx(xe.Slot,{scope:s.__scopeSlider,children:e.jsx(P,{"aria-disabled":d,"data-disabled":d?"":void 0,...f,ref:t,onPointerDown:Y(f.onPointerDown,()=>{d||(c.current=I)}),min:n,max:l,inverted:N,onSlideStart:d?void 0:p,onSlideMove:d?void 0:k,onSlideEnd:d?void 0:C,onHomeKeyDown:()=>!d&&E(n,0,{commit:!0}),onEndKeyDown:()=>!d&&E(l,I.length-1,{commit:!0}),onStepKeyDown:({event:S,direction:_})=>{if(!d){const se=Oe.includes(S.key)||S.shiftKey&&Ke.includes(S.key)?10:1,K=u.current,F=I[K],J=h*se*_;E(F+J,K,{commit:!0})}}})})})})});He.displayName=ee;var[qe,Ge]=Ve(ee,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nt=o.forwardRef((s,t)=>{const{min:a,max:n,dir:l,inverted:h,onSlideStart:i,onSlideMove:d,onSlideEnd:y,onStepKeyDown:m,...v}=s,[x,b]=o.useState(null),N=G(t,P=>b(P)),j=o.useRef(void 0),f=xs(l),g=f==="ltr",u=g&&!h||!g&&h;function M(P){const I=j.current||x.getBoundingClientRect(),r=[0,I.width],p=be(r,u?[a,n]:[n,a]);return j.current=I,p(P-I.left)}return e.jsx(qe,{scope:s.__scopeSlider,startEdge:u?"left":"right",endEdge:u?"right":"left",direction:u?1:-1,size:"width",children:e.jsx(Ye,{dir:f,"data-orientation":"horizontal",...v,ref:N,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const I=M(P.clientX);i?.(I)},onSlideMove:P=>{const I=M(P.clientX);d?.(I)},onSlideEnd:()=>{j.current=void 0,y?.()},onStepKeyDown:P=>{const r=Fe[u?"from-left":"from-right"].includes(P.key);m?.({event:P,direction:r?-1:1})}})})}),rt=o.forwardRef((s,t)=>{const{min:a,max:n,inverted:l,onSlideStart:h,onSlideMove:i,onSlideEnd:d,onStepKeyDown:y,...m}=s,v=o.useRef(null),x=G(t,v),b=o.useRef(void 0),N=!l;function j(f){const g=b.current||v.current.getBoundingClientRect(),u=[0,g.height],P=be(u,N?[n,a]:[a,n]);return b.current=g,P(f-g.top)}return e.jsx(qe,{scope:s.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:e.jsx(Ye,{"data-orientation":"vertical",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const g=j(f.clientY);h?.(g)},onSlideMove:f=>{const g=j(f.clientY);i?.(g)},onSlideEnd:()=>{b.current=void 0,d?.()},onStepKeyDown:f=>{const u=Fe[N?"from-bottom":"from-top"].includes(f.key);y?.({event:f,direction:u?-1:1})}})})}),Ye=o.forwardRef((s,t)=>{const{__scopeSlider:a,onSlideStart:n,onSlideMove:l,onSlideEnd:h,onHomeKeyDown:i,onEndKeyDown:d,onStepKeyDown:y,...m}=s,v=ne(ee,a);return e.jsx(O.span,{...m,ref:t,onKeyDown:Y(s.onKeyDown,x=>{x.key==="Home"?(i(x),x.preventDefault()):x.key==="End"?(d(x),x.preventDefault()):Oe.concat(Ke).includes(x.key)&&(y(x),x.preventDefault())}),onPointerDown:Y(s.onPointerDown,x=>{const b=x.target;b.setPointerCapture(x.pointerId),x.preventDefault(),v.thumbs.has(b)?b.focus():n(x)}),onPointerMove:Y(s.onPointerMove,x=>{x.target.hasPointerCapture(x.pointerId)&&l(x)}),onPointerUp:Y(s.onPointerUp,x=>{const b=x.target;b.hasPointerCapture(x.pointerId)&&(b.releasePointerCapture(x.pointerId),h(x))})})}),Je="SliderTrack",We=o.forwardRef((s,t)=>{const{__scopeSlider:a,...n}=s,l=ne(Je,a);return e.jsx(O.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...n,ref:t})});We.displayName=Je;var fe="SliderRange",Xe=o.forwardRef((s,t)=>{const{__scopeSlider:a,...n}=s,l=ne(fe,a),h=Ge(fe,a),i=o.useRef(null),d=G(t,i),y=l.values.length,m=l.values.map(b=>es(b,l.min,l.max)),v=y>1?Math.min(...m):0,x=100-Math.max(...m);return e.jsx(O.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...n,ref:d,style:{...s.style,[h.startEdge]:v+"%",[h.endEdge]:x+"%"}})});Xe.displayName=fe;var ge="SliderThumb",Ze=o.forwardRef((s,t)=>{const a=st(s.__scopeSlider),[n,l]=o.useState(null),h=G(t,d=>l(d)),i=o.useMemo(()=>n?a().findIndex(d=>d.ref.current===n):-1,[a,n]);return e.jsx(ot,{...s,ref:h,index:i})}),ot=o.forwardRef((s,t)=>{const{__scopeSlider:a,index:n,name:l,...h}=s,i=ne(ge,a),d=Ge(ge,a),[y,m]=o.useState(null),v=G(t,M=>m(M)),x=y?i.form||!!y.closest("form"):!0,b=Ee(y),N=i.values[n],j=N===void 0?0:es(N,i.min,i.max),f=ct(n,i.values.length),g=b?.[d.size],u=g?mt(g,j,d.direction):0;return o.useEffect(()=>{if(y)return i.thumbs.add(y),()=>{i.thumbs.delete(y)}},[y,i.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${j}% + ${u}px)`},children:[e.jsx(xe.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(O.span,{role:"slider","aria-label":s["aria-label"]||f,"aria-valuemin":i.min,"aria-valuenow":N,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...h,ref:v,style:N===void 0?{display:"none"}:s.style,onFocus:Y(s.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),x&&e.jsx(Qe,{name:l??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:N},n)]})});Ze.displayName=ge;var it="RadioBubbleInput",Qe=o.forwardRef(({__scopeSlider:s,value:t,...a},n)=>{const l=o.useRef(null),h=G(l,n),i=Le(t);return o.useEffect(()=>{const d=l.current;if(!d)return;const y=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(y,"value").set;if(i!==t&&v){const x=new Event("input",{bubbles:!0});v.call(d,t),d.dispatchEvent(x)}},[i,t]),e.jsx(O.input,{style:{display:"none"},...a,ref:h,defaultValue:t})});Qe.displayName=it;function lt(s=[],t,a){const n=[...s];return n[a]=t,n.sort((l,h)=>l-h)}function es(s,t,a){const h=100/(a-t)*(s-t);return Te(h,[0,100])}function ct(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function dt(s,t){if(s.length===1)return 0;const a=s.map(l=>Math.abs(l-t)),n=Math.min(...a);return a.indexOf(n)}function mt(s,t,a){const n=s/2,h=be([0,50],[0,n]);return(n-h(t)*a)*a}function ut(s){return s.slice(0,-1).map((t,a)=>s[a+1]-t)}function ht(s,t){if(t>0){const a=ut(s);return Math.min(...a)>=t}return!0}function be(s,t){return a=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(s[1]-s[0]);return t[0]+n*(a-s[0])}}function pt(s){return(String(s).split(".")[1]||"").length}function xt(s,t){const a=Math.pow(10,t);return Math.round(s*a)/a}var ss=He,ft=We,gt=Xe,yt=Ze;const ts=o.forwardRef(({className:s,...t},a)=>e.jsxs(ss,{ref:a,className:W("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(ft,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(gt,{className:"absolute h-full bg-primary"})}),e.jsx(yt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ts.displayName=ss.displayName;var re="Switch",[vt]=ve(re),[bt,jt]=vt(re),as=o.forwardRef((s,t)=>{const{__scopeSwitch:a,name:n,checked:l,defaultChecked:h,required:i,disabled:d,value:y="on",onCheckedChange:m,form:v,...x}=s,[b,N]=o.useState(null),j=G(t,P=>N(P)),f=o.useRef(!1),g=b?v||!!b.closest("form"):!0,[u,M]=ye({prop:l,defaultProp:h??!1,onChange:m,caller:re});return e.jsxs(bt,{scope:a,checked:u,disabled:d,children:[e.jsx(O.button,{type:"button",role:"switch","aria-checked":u,"aria-required":i,"data-state":is(u),"data-disabled":d?"":void 0,disabled:d,value:y,...x,ref:j,onClick:Y(s.onClick,P=>{M(I=>!I),g&&(f.current=P.isPropagationStopped(),f.current||P.stopPropagation())})}),g&&e.jsx(os,{control:b,bubbles:!f.current,name:n,value:y,checked:u,required:i,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});as.displayName=re;var ns="SwitchThumb",rs=o.forwardRef((s,t)=>{const{__scopeSwitch:a,...n}=s,l=jt(ns,a);return e.jsx(O.span,{"data-state":is(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:t})});rs.displayName=ns;var wt="SwitchBubbleInput",os=o.forwardRef(({__scopeSwitch:s,control:t,checked:a,bubbles:n=!0,...l},h)=>{const i=o.useRef(null),d=G(i,h),y=Le(a),m=Ee(t);return o.useEffect(()=>{const v=i.current;if(!v)return;const x=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(x,"checked").set;if(y!==a&&N){const j=new Event("click",{bubbles:n});N.call(v,a),v.dispatchEvent(j)}},[y,a,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:d,style:{...l.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});os.displayName=wt;function is(s){return s?"checked":"unchecked"}var ls=as,Nt=rs;const je=o.forwardRef(({className:s,...t},a)=>e.jsx(ls,{className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",s),...t,ref:a,children:e.jsx(Nt,{className:W("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));je.displayName=ls.displayName;const kt=[{key:"temperature",label:"Temperature",min:0,max:2,step:.01,desc:"Controls randomness. Lower = more focused"},{key:"maxTokens",label:"Max Tokens",min:256,max:32768,step:256,desc:"Maximum response length"},{key:"topP",label:"Top P",min:0,max:1,step:.01,desc:"Nucleus sampling threshold"},{key:"frequencyPenalty",label:"Frequency Penalty",min:0,max:2,step:.01,desc:"Reduces repetition"},{key:"presencePenalty",label:"Presence Penalty",min:0,max:2,step:.01,desc:"Encourages new topics"}];function St({config:s,onConfigChange:t}){const[a,n]=o.useState(()=>localStorage.getItem("anikchat-rag-enabled")==="true"),[l,h]=o.useState(!1),i=m=>{t({...s,...m})},d=()=>{window.confirm("Reset all settings to defaults?")&&(t(_e),w.success("Settings reset to defaults"))},y=async m=>{if(n(m),Ce(m),m&&!Ns()){h(!0),w.info("Loading semantic search model...");const v=await ws();h(!1),v?w.success("Semantic search enabled"):(w.error("Failed to load model. Using basic context."),n(!1),Ce(!1))}else m||w.info("Semantic search disabled - using basic context")};return e.jsxs(B,{children:[e.jsxs(V,{children:[e.jsx(H,{children:"Advanced Settings"}),e.jsx(q,{children:"Model parameters and features"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{children:"Semantic Search (RAG)"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enable AI-powered context retrieval for long conversations.",e.jsx("br",{}),e.jsx("span",{className:"text-yellow-600",children:"âš ï¸ Loads ~800KB model, uses more memory"})]})]}),e.jsx(je,{checked:a,onCheckedChange:y,disabled:l})]}),kt.map(({key:m,label:v,min:x,max:b,step:N,desc:j})=>{const f=s[m],g=typeof f=="number"?f:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(L,{className:"text-sm",children:v}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j})]}),e.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:m==="maxTokens"?g:g.toFixed(2)})]}),e.jsx(ts,{value:[g],onValueChange:([u])=>i({[m]:u}),min:x,max:b,step:N})]},m)}),e.jsx("div",{className:"pt-4 border-t",children:e.jsx(A,{variant:"outline",onClick:d,className:"w-full",children:"Reset to Defaults"})})]})]})}function Ct({config:s,onConfigChange:t}){return e.jsxs(B,{children:[e.jsxs(V,{children:[e.jsx(H,{children:"System Prompt"}),e.jsx(q,{children:"Define the AI assistant's personality and behavior"})]}),e.jsxs($,{children:[e.jsx(ks,{value:s.systemPrompt,onChange:a=>t({...s,systemPrompt:a.target.value}),placeholder:"You are a helpful AI assistant...",className:"min-h-[200px] resize-none"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This prompt is sent at the beginning of every conversation to set the AI's behavior"})]})]})}function Ie(s){if(s===0)return"0 B";const t=1024,a=["B","KB","MB"],n=Math.floor(Math.log(s)/Math.log(t));return`${parseFloat((s/Math.pow(t,n)).toFixed(1))} ${a[n]}`}function Pt(s){return new Blob([JSON.stringify(s)]).size}function Mt(){let s=0;for(let t=0;t<localStorage.length;t++){const a=localStorage.key(t);if(a?.startsWith("openchat-")){const n=localStorage.getItem(a)||"";s+=new Blob([n]).size}}return s}function It({conversations:s,onDeleteConversation:t,onClearConversations:a,onClearAllData:n,onExportAllData:l,onImportData:h}){const i=o.useRef(null),[d,y]=o.useState("indexeddb"),[m,v]=o.useState(null),[x,b]=o.useState(!1),[N,j]=o.useState(!1);o.useEffect(()=>{(async()=>(await D.init(),y(D.getStorageType()),v(D.getDirectoryName()),j(D.needsReauthorization())))()},[]);const f=o.useCallback(async()=>{if(!ie()){w.error("File System API not supported in this browser. Try Chrome or Edge.");return}b(!0);try{await D.switchToFileSystem()&&(y("filesystem"),v(D.getDirectoryName()),j(!1),w.success("Folder selected! Your data will be stored locally."))}catch{w.error("Failed to select folder")}finally{b(!1)}},[]),g=o.useCallback(async()=>{b(!0);try{await D.reauthorize()?(j(!1),v(D.getDirectoryName()),w.success("Folder access restored!")):(await D.switchToIndexedDB(),y("indexeddb"),j(!1),v(null),w.info("Could not access folder. Switched to browser storage."))}catch{w.error("Failed to reauthorize folder access")}finally{b(!1)}},[]),u=o.useCallback(async()=>{b(!0);try{await D.switchToIndexedDB(),y("indexeddb"),v(null),w.success("Switched to browser storage (IndexedDB)")}finally{b(!1)}},[]),M=o.useCallback(async()=>{if(window.confirm("Disconnect from folder? Data in the folder will be preserved.")){b(!0);try{await D.disconnectFileSystem(),y("indexeddb"),v(null),w.success("Disconnected from folder")}finally{b(!1)}}},[]),P=o.useCallback(r=>{const c=r.target.files?.[0];if(!c)return;const p=new FileReader;p.onload=k=>{try{const C=JSON.parse(k.target?.result);if(!C.config&&!C.conversations){w.error("Invalid backup file format");return}const E=C.config&&typeof C.config=="object",S=Array.isArray(C.conversations);if(!E&&!S){w.error("No valid data found in backup file");return}const _=`Import ${S?C.conversations.length+" conversations":""}${E&&S?" and ":""}${E?"settings":""}? This will merge with existing data.`;window.confirm(_)&&(h?.({config:E?C.config:void 0,conversations:S?C.conversations:void 0}),w.success("Data imported successfully"))}catch{w.error("Failed to parse backup file")}},p.readAsText(c),i.current&&(i.current.value="")},[h]),I=Mt();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(B,{className:"border-primary/20",children:[e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{className:"h-5 w-5 text-primary"}),e.jsx(H,{children:"Storage Location"})]}),e.jsx(q,{children:"Choose where to store your chat data"})]}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3",children:[ie()&&e.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${d==="filesystem"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ss,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Local Folder (SSD/HDD)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:m?`Connected: ${m}/anikchat-data`:"Store data in a folder you choose"})]})]}),d==="filesystem"&&N?e.jsx(A,{size:"sm",onClick:g,disabled:x,children:x?e.jsx(pe,{className:"h-4 w-4 animate-spin"}):"Reconnect"}):d==="filesystem"?e.jsx(A,{variant:"outline",size:"sm",onClick:M,disabled:x,children:"Disconnect"}):e.jsx(A,{size:"sm",onClick:f,disabled:x,children:x?e.jsx(pe,{className:"h-4 w-4 animate-spin"}):"Select Folder"})]}),d==="filesystem"&&N&&e.jsx("p",{className:"text-xs text-amber-500 mt-2",children:'Click "Reconnect" to restore access to your saved folder'})]}),e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${d==="indexeddb"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Us,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Browser Storage (IndexedDB)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Large capacity, works in all browsers"})]})]}),d!=="indexeddb"&&e.jsx(A,{variant:"outline",size:"sm",onClick:u,disabled:x,children:"Use This"}),d==="indexeddb"&&e.jsx(zs,{className:"h-5 w-5 text-primary"})]})})]}),!ie()&&e.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded-lg",children:"ðŸ’¡ Use Chrome or Edge to enable local folder storage"})]})]}),e.jsxs(B,{children:[e.jsxs(V,{children:[e.jsx(H,{children:"Storage Overview"}),e.jsx(q,{children:"Manage your locally stored data"})]}),e.jsx($,{children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ie(I)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.length," conversation",s.length!==1?"s":""," stored"]})]}),e.jsx(ze,{className:"h-10 w-10 text-muted-foreground/50"})]})})]}),e.jsxs(B,{children:[e.jsxs(V,{children:[e.jsx(H,{children:"Stored Conversations"}),e.jsx(q,{children:"Delete individual conversations to free up space"})]}),e.jsx($,{children:s.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No conversations stored"}):e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto scrollbar-thin",children:s.map(r=>({...r,size:Pt(r)})).sort((r,c)=>c.size-r.size).map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 hover:bg-muted/50 border border-border rounded-lg group transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-3",children:[e.jsx("p",{className:"font-medium truncate",children:r.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.messages.length," messages Â· ",Ie(r.size),r.summary&&" Â· summarized"]})]}),e.jsx(A,{variant:"ghost",size:"icon",className:"opacity-50 group-hover:opacity-100 hover:bg-destructive/10 hover:text-destructive transition-all",onClick:()=>t(r.id),children:e.jsx(ae,{className:"h-4 w-4"})})]},r.id))})})]}),e.jsxs(B,{children:[e.jsxs(V,{children:[e.jsx(H,{children:"Data Actions"}),e.jsx(q,{children:"Export or clear your data"})]}),e.jsxs($,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(A,{variant:"outline",className:"gap-2",onClick:l,children:[e.jsx(Cs,{className:"h-4 w-4"}),"Export Data"]}),e.jsx("input",{type:"file",ref:i,accept:".json",onChange:P,className:"hidden"}),e.jsxs(A,{variant:"outline",className:"gap-2",onClick:()=>i.current?.click(),children:[e.jsx(Ys,{className:"h-4 w-4"}),"Import Backup"]})]}),e.jsxs(A,{variant:"outline",className:"w-full gap-2 text-orange-500 hover:text-orange-600 hover:border-orange-400",onClick:a,disabled:s.length===0,children:[e.jsx(ae,{className:"h-4 w-4"}),"Clear All Conversations"]}),e.jsxs("div",{className:"pt-3 border-t border-border",children:[e.jsxs(A,{variant:"destructive",className:"w-full gap-2",onClick:n,children:[e.jsx(Gs,{className:"h-4 w-4"}),"Delete All Data"]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"This will remove all settings, conversations, and summaries"})]})]})]})]})}var oe="Collapsible",[At]=ve(oe),[Dt,we]=At(oe),cs=o.forwardRef((s,t)=>{const{__scopeCollapsible:a,open:n,defaultOpen:l,disabled:h,onOpenChange:i,...d}=s,[y,m]=ye({prop:n,defaultProp:l??!1,onChange:i,caller:oe});return e.jsx(Dt,{scope:a,disabled:h,contentId:fs(),open:y,onOpenToggle:o.useCallback(()=>m(v=>!v),[m]),children:e.jsx(O.div,{"data-state":ke(y),"data-disabled":h?"":void 0,...d,ref:t})})});cs.displayName=oe;var ds="CollapsibleTrigger",ms=o.forwardRef((s,t)=>{const{__scopeCollapsible:a,...n}=s,l=we(ds,a);return e.jsx(O.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":ke(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...n,ref:t,onClick:Y(s.onClick,l.onOpenToggle)})});ms.displayName=ds;var Ne="CollapsibleContent",us=o.forwardRef((s,t)=>{const{forceMount:a,...n}=s,l=we(Ne,s.__scopeCollapsible);return e.jsx(gs,{present:a||l.open,children:({present:h})=>e.jsx(Rt,{...n,ref:t,present:h})})});us.displayName=Ne;var Rt=o.forwardRef((s,t)=>{const{__scopeCollapsible:a,present:n,children:l,...h}=s,i=we(Ne,a),[d,y]=o.useState(n),m=o.useRef(null),v=G(t,m),x=o.useRef(0),b=x.current,N=o.useRef(0),j=N.current,f=i.open||d,g=o.useRef(f),u=o.useRef(void 0);return o.useEffect(()=>{const M=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(M)},[]),ys(()=>{const M=m.current;if(M){u.current=u.current||{transitionDuration:M.style.transitionDuration,animationName:M.style.animationName},M.style.transitionDuration="0s",M.style.animationName="none";const P=M.getBoundingClientRect();x.current=P.height,N.current=P.width,g.current||(M.style.transitionDuration=u.current.transitionDuration,M.style.animationName=u.current.animationName),y(n)}},[i.open,n]),e.jsx(O.div,{"data-state":ke(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!f,...h,ref:v,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...s.style},children:f&&l})});function ke(s){return s?"open":"closed"}var Tt=cs;const Et=Tt,Lt=ms,_t=us,ue=[{id:"openai",name:"OpenAI",baseUrl:"https://api.openai.com/v1",placeholder:"sk-..."},{id:"anthropic",name:"Anthropic",baseUrl:"https://api.anthropic.com/v1",placeholder:"sk-ant-..."},{id:"google",name:"Google AI",baseUrl:"https://generativelanguage.googleapis.com/v1beta/openai",placeholder:"AIza..."},{id:"groq",name:"Groq",baseUrl:"https://api.groq.com/openai/v1",placeholder:"gsk_..."},{id:"mistral",name:"Mistral AI",baseUrl:"https://api.mistral.ai/v1",placeholder:"api-key"},{id:"together",name:"Together AI",baseUrl:"https://api.together.xyz/v1",placeholder:"api-key"},{id:"openrouter",name:"OpenRouter",baseUrl:"https://openrouter.ai/api/v1",placeholder:"sk-or-..."},{id:"deepseek",name:"DeepSeek",baseUrl:"https://api.deepseek.com/v1",placeholder:"sk-..."},{id:"fireworks",name:"Fireworks AI",baseUrl:"https://api.fireworks.ai/inference/v1",placeholder:"fw_..."},{id:"perplexity",name:"Perplexity",baseUrl:"https://api.perplexity.ai",placeholder:"pplx-..."},{id:"nebius",name:"Nebius Token Factory",baseUrl:"https://api.tokenfactory.nebius.com/v1",placeholder:"api-key"},{id:"sambanova",name:"SambaNova Cloud",baseUrl:"https://api.sambanova.ai/v1",placeholder:"api-key"},{id:"ollama",name:"Ollama (Local)",baseUrl:"http://localhost:11434/v1",placeholder:"optional"},{id:"lmstudio",name:"LM Studio (Local)",baseUrl:"http://localhost:1234/v1",placeholder:"optional"},{id:"custom",name:"OpenAI Compatible (Custom)",baseUrl:"",placeholder:"api-key"}];function zt({config:s,onConfigChange:t}){const[a,n]=o.useState(new Set),[l,h]=o.useState(new Set),i=s.providers??[],d=o.useCallback(r=>{n(c=>{const p=new Set(c);return p.has(r)?p.delete(r):p.add(r),p})},[]),y=o.useCallback(r=>{h(c=>{const p=new Set(c);return p.has(r)?p.delete(r):p.add(r),p})},[]),m=o.useCallback(r=>{const c=ue.find(k=>k.id===r);if(!c)return;const p={id:Pe(),name:c.name,baseUrl:c.baseUrl,apiKey:"",models:[]};t({...s,providers:[...i,p]}),n(k=>new Set(k).add(p.id)),w.success(`${c.name} provider added`)},[s,i,t]),v=o.useCallback((r,c)=>{t({...s,providers:i.map(p=>p.id===r?{...p,...c}:p)})},[s,i,t]),x=o.useCallback(r=>{if(!window.confirm("Delete this provider and all its models?"))return;const c=i.filter(C=>C.id!==r);let p=s.activeProviderId,k=s.activeModelId;s.activeProviderId===r&&(p=null,k=null),t({...s,providers:c,activeProviderId:p,activeModelId:k}),w.success("Provider deleted")},[s,i,t]),b=o.useCallback(r=>{const c={id:Pe(),modelId:"",displayName:"New Model",isVisionModel:!1};t({...s,providers:i.map(p=>p.id===r?{...p,models:[...p.models,c]}:p)}),w.success("Model added")},[s,i,t]),N=o.useCallback((r,c,p)=>{t({...s,providers:i.map(k=>k.id===r?{...k,models:k.models.map(C=>C.id===c?{...C,...p}:C)}:k)})},[s,i,t]),j=o.useCallback((r,c)=>{let p=s.activeProviderId,k=s.activeModelId;s.activeModelId===c&&(p=null,k=null),t({...s,providers:i.map(C=>C.id===r?{...C,models:C.models.filter(E=>E.id!==c)}:C),activeProviderId:p,activeModelId:k}),w.success("Model deleted")},[s,i,t]),f=o.useCallback((r,c)=>{const p=i.find(C=>C.id===r);if(!p?.apiKey&&!p?.baseUrl.includes("localhost")){w.error("Please add an API key for this provider first");return}t({...s,activeProviderId:r,activeModelId:c});const k=p.models.find(C=>C.id===c);w.success(`Activated: ${k?.displayName||k?.modelId}`)},[s,i,t]),[g,u]=o.useState(null),M=o.useCallback(async r=>{const c=i.find(S=>S.id===r);if(!c)return;const p=c.baseUrl.includes("localhost")||c.baseUrl.includes("127.0.0.1");if(!c.apiKey&&!p){w.error("Please add an API key first");return}if(c.models.length===0){w.error("Please add at least one model first");return}u(r);const k=c.models[0],C=c.baseUrl.replace(/\/+$/,""),E=Ps(c.baseUrl);try{const S=new AbortController,_=setTimeout(()=>S.abort(),15e3),z=E==="anthropic"?await fetch(`${C}/messages`,{method:"POST",headers:{"Content-Type":"application/json","anthropic-version":"2023-06-01",...c.apiKey?{"x-api-key":c.apiKey}:{}},body:JSON.stringify({model:k.modelId,max_tokens:5,messages:[{role:"user",content:[{type:"text",text:"Hi"}]}]}),signal:S.signal}):await fetch(`${C}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",...c.apiKey?{Authorization:`Bearer ${c.apiKey}`}:{}},body:JSON.stringify({model:k.modelId,messages:[{role:"user",content:"Hi"}],max_tokens:5}),signal:S.signal});if(clearTimeout(_),z.ok)w.success(`${c.name} connection successful!`);else{const X=await z.json().catch(()=>null),se=(()=>{if(!X||typeof X!="object")return`Error ${z.status}`;const K=X,F=K.error?.message;return typeof F=="string"&&F?F:typeof K.message=="string"&&K.message?K.message:`Error ${z.status}`})();z.status===401?w.error("Invalid API key"):z.status===404?w.error(`Model "${k.modelId}" not found. Check the model ID.`):z.status===429?w.error("Rate limited. Connection works but try again later."):w.error(`Connection failed: ${se}`)}}catch(S){S instanceof Error?S.name==="AbortError"?w.error("Connection timed out. Check the base URL."):S.message.includes("Failed to fetch")?w.error("Cannot connect. Check base URL and network."):w.error(`Error: ${S.message}`):w.error("Unknown error occurred")}finally{u(null)}},[i]),P=r=>ue.find(p=>p.name===r)?.placeholder||"api-key",I=r=>{const c=ue.find(p=>p.name===r.name);return r.name==="OpenAI Compatible (Custom)"||!c};return e.jsxs("div",{className:"space-y-4",children:[s.activeProviderId&&s.activeModelId&&e.jsx(B,{className:"border-green-500/50 bg-green-500/5",children:e.jsx($,{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Active:"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{const r=i.find(p=>p.id===s.activeProviderId),c=r?.models.find(p=>p.id===s.activeModelId);return`${r?.name} â†’ ${c?.displayName||c?.modelId}`})()})]})})}),i.map(r=>e.jsx(B,{className:"overflow-hidden",children:e.jsxs(Et,{open:a.has(r.id),onOpenChange:()=>d(r.id),children:[e.jsx(Lt,{asChild:!0,children:e.jsx(V,{className:"cursor-pointer hover:bg-accent/50 transition-colors py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a.has(r.id)?e.jsx(Ms,{className:"h-4 w-4"}):e.jsx(Is,{className:"h-4 w-4"}),e.jsx(U,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx(H,{className:"text-base",children:r.name}),e.jsxs(q,{className:"text-xs",children:[r.models.length," model",r.models.length!==1?"s":"",!r.apiKey&&!r.baseUrl.includes("localhost")&&" â€¢ No API key"]})]})]}),e.jsx(A,{variant:"ghost",size:"icon",onClick:c=>{c.stopPropagation(),x(r.id)},className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(ae,{className:"h-4 w-4"})})]})})}),e.jsx(_t,{children:e.jsxs($,{className:"space-y-4 pt-0",children:[e.jsxs("div",{className:"grid gap-4 p-4 bg-muted/30 rounded-lg",children:[I(r)?e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Base URL"}),e.jsx(te,{value:r.baseUrl,onChange:c=>v(r.id,{baseUrl:c.target.value}),placeholder:"https://api.example.com/v1",className:"font-mono text-sm"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{className:"text-muted-foreground",children:"Base URL"}),e.jsx("p",{className:"text-xs font-mono text-muted-foreground bg-muted/50 px-3 py-2 rounded",children:r.baseUrl})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"API Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{type:l.has(r.id)?"text":"password",value:r.apiKey,onChange:c=>v(r.id,{apiKey:c.target.value}),placeholder:P(r.name),className:"font-mono text-sm pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>y(r.id),children:l.has(r.id)?e.jsx(Bs,{className:"h-4 w-4"}):e.jsx(As,{className:"h-4 w-4"})})]}),r.baseUrl.includes("localhost")&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"API key is optional for local providers"})]}),e.jsx(A,{variant:"outline",size:"sm",onClick:()=>M(r.id),disabled:g===r.id||r.models.length===0,className:"gap-2",children:g===r.id?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"h-4 w-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-4 w-4"}),"Test Connection"]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{className:"text-sm font-medium",children:"Models"}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>b(r.id),className:"gap-1",children:[e.jsx(ce,{className:"h-3 w-3"}),"Add Model"]})]}),r.models.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No models added yet. Add a model with its Model ID."}):e.jsx("div",{className:"space-y-2",children:r.models.map(c=>{const p=s.activeProviderId===r.id&&s.activeModelId===c.id;return e.jsx("div",{className:`p-3 rounded-lg border transition-all ${p?"border-green-500 bg-green-500/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(de,{className:`h-4 w-4 mt-1 ${p?"text-green-500":"text-muted-foreground"}`}),e.jsxs("div",{className:"flex-1 grid gap-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{className:"text-xs",children:"Display Name"}),e.jsx(te,{value:c.displayName,onChange:k=>N(r.id,c.id,{displayName:k.target.value}),placeholder:"GPT-4o",className:"h-8 text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{className:"text-xs",children:"Model ID"}),e.jsx(te,{value:c.modelId,onChange:k=>N(r.id,c.id,{modelId:k.target.value}),placeholder:"gpt-4o",className:"h-8 text-sm font-mono"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{checked:c.isVisionModel,onCheckedChange:k=>N(r.id,c.id,{isVisionModel:k})}),e.jsx(L,{className:"text-xs text-muted-foreground",children:"Vision capable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{variant:p?"default":"outline",size:"sm",onClick:()=>f(r.id,c.id),className:"gap-1",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-3 w-3"}),"Active"]}):"Activate"}),e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>j(r.id,c.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10 px-2",children:e.jsx(ae,{className:"h-3 w-3"})})]})]})]})]})},c.id)})})]})]})})]})},r.id)),e.jsxs(Ds,{children:[e.jsx(Rs,{asChild:!0,children:e.jsxs(A,{variant:"outline",className:"w-full border-dashed justify-start gap-2 text-muted-foreground",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Add LLM Provider"})]})}),e.jsxs(Ts,{className:"w-64",align:"start",children:[e.jsx(me,{className:"text-xs text-muted-foreground",children:"Cloud Providers"}),e.jsxs(R,{onClick:()=>m("openai"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," OpenAI"]}),e.jsxs(R,{onClick:()=>m("anthropic"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," Anthropic (Claude)"]}),e.jsxs(R,{onClick:()=>m("google"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," Google AI (Gemini)"]}),e.jsxs(R,{onClick:()=>m("groq"),className:"cursor-pointer",children:[e.jsx(le,{className:"h-4 w-4 mr-2"})," Groq"]}),e.jsxs(R,{onClick:()=>m("mistral"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," Mistral AI"]}),e.jsxs(R,{onClick:()=>m("together"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," Together AI"]}),e.jsxs(R,{onClick:()=>m("openrouter"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," OpenRouter"]}),e.jsxs(R,{onClick:()=>m("deepseek"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," DeepSeek"]}),e.jsxs(R,{onClick:()=>m("fireworks"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," Fireworks AI"]}),e.jsxs(R,{onClick:()=>m("perplexity"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," Perplexity"]}),e.jsxs(R,{onClick:()=>m("nebius"),className:"cursor-pointer",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," Nebius Token Factory"]}),e.jsxs(R,{onClick:()=>m("sambanova"),className:"cursor-pointer",children:[e.jsx(le,{className:"h-4 w-4 mr-2"})," SambaNova Cloud"]}),e.jsx(Me,{}),e.jsx(me,{className:"text-xs text-muted-foreground",children:"Local Providers"}),e.jsxs(R,{onClick:()=>m("ollama"),className:"cursor-pointer",children:[e.jsx(de,{className:"h-4 w-4 mr-2"})," Ollama (Local)"]}),e.jsxs(R,{onClick:()=>m("lmstudio"),className:"cursor-pointer",children:[e.jsx(de,{className:"h-4 w-4 mr-2"})," LM Studio (Local)"]}),e.jsx(Me,{}),e.jsx(me,{className:"text-xs text-muted-foreground",children:"Custom"}),e.jsxs(R,{onClick:()=>m("custom"),className:"cursor-pointer",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"})," OpenAI Compatible (Custom)"]})]})]}),i.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Select a provider above to get started"})]})}function Ut({config:s,onConfigChange:t}){const a=n=>{t({...s,...n})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(B,{children:[e.jsxs(V,{children:[e.jsx(H,{children:"LLM Providers"}),e.jsx(q,{children:"Configure your AI providers and models."})]}),e.jsx($,{children:e.jsx(zt,{config:s,onConfigChange:t})})]}),e.jsxs(B,{children:[e.jsxs(V,{children:[e.jsx(H,{children:"Active Model"}),e.jsx(q,{children:"Select which model to use for conversations"})]}),e.jsx($,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Select Model"}),e.jsxs("select",{className:"w-full p-2.5 rounded-md border border-border bg-background text-sm",value:`${s.activeProviderId}:${s.activeModelId}`,onChange:n=>{const[l,h]=n.target.value.split(":");a({activeProviderId:l||null,activeModelId:h||null})},children:[e.jsx("option",{value:":",children:"Select a model..."}),(s.providers||[]).flatMap(n=>n.models.map(l=>e.jsxs("option",{value:`${n.id}:${l.id}`,children:[n.name," / ",l.displayName," ",l.isVisionModel&&"ðŸ‘ï¸"]},`${n.id}:${l.id}`)))]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This model handles all chat interactions. Vision models (ðŸ‘ï¸) can process images directly."})]})})]})]})}function Ht(){const s=vs(),[t,a]=Es(_e),[n,l]=o.useState([]),[h,i]=o.useState(!1);o.useEffect(()=>{(async()=>{try{const f=await D.listConversations(),g=(await Promise.all(f.map(u=>D.getConversation(u)))).filter(u=>!!u);g.sort((u,M)=>new Date(M.updatedAt).getTime()-new Date(u.updatedAt).getTime()),l(g)}catch{const f=localStorage.getItem("openchat-conversations");f&&l(JSON.parse(f))}})()},[]);const d=o.useCallback(j=>{a(j)},[a]),y=o.useCallback(()=>{i(!0),w.success("Settings saved"),setTimeout(()=>i(!1),2e3)},[]),m=o.useCallback(()=>{const j={config:Ws(t),conversations:n,exportedAt:new Date().toISOString()},f=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),g=URL.createObjectURL(f),u=document.createElement("a");u.href=g,u.download=`anikchat-backup-${new Date().toISOString().split("T")[0]}.json`,u.click(),URL.revokeObjectURL(g),w.success("Data exported (API keys not included)")},[t,n]),v=o.useCallback(async j=>{window.confirm("Delete this conversation?")&&(await D.deleteConversation(j),l(f=>f.filter(g=>g.id!==j)),w.success("Conversation deleted"))},[]),x=o.useCallback(async()=>{if(window.confirm("Delete all conversations? This cannot be undone.")){for(const j of n)await D.deleteConversation(j.id);l([]),w.success("All conversations deleted")}},[n]),b=o.useCallback(async()=>{window.confirm("âš ï¸ Delete ALL data? This cannot be undone!")&&(await D.clearAll(),localStorage.removeItem("openchat-config"),localStorage.removeItem("openchat-conversations"),w.success("All data cleared"),window.location.reload())},[]),N=o.useCallback(async j=>{if(j.config&&a(f=>({...f,...j.config,providers:[...f.providers,...(j.config?.providers||[]).filter(g=>!f.providers.some(u=>u.id===g.id))]})),j.conversations){const f=new Set(n.map(u=>u.id)),g=j.conversations.filter(u=>!f.has(u.id));for(const u of g)await D.saveConversation(u.id,u);l(u=>[...g,...u])}},[a,n]);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-14 flex items-center gap-4",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>s("/"),children:e.jsx(_s,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold",children:"Settings"}),e.jsx("div",{className:"flex-1"}),e.jsxs(A,{onClick:y,className:"gap-2",children:[h&&e.jsx(he,{className:"h-4 w-4"}),h?"Saved!":"Save Changes"]})]})}),e.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs(Js,{defaultValue:"appearance",className:"space-y-6",children:[e.jsxs(Ue,{className:"grid w-full grid-cols-5 h-auto p-1",children:[e.jsxs(Z,{value:"appearance",className:"gap-2 py-2",children:[e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Appearance"})]}),e.jsxs(Z,{value:"api",className:"gap-2 py-2",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"API"})]}),e.jsxs(Z,{value:"prompt",className:"gap-2 py-2",children:[e.jsx(Ls,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prompt"})]}),e.jsxs(Z,{value:"advanced",className:"gap-2 py-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"})]}),e.jsxs(Z,{value:"data",className:"gap-2 py-2",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Data"})]})]}),e.jsx(Q,{value:"appearance",children:e.jsx(et,{})}),e.jsx(Q,{value:"api",children:e.jsx(Ut,{config:t,onConfigChange:d})}),e.jsx(Q,{value:"prompt",children:e.jsx(Ct,{config:t,onConfigChange:d})}),e.jsx(Q,{value:"advanced",children:e.jsx(St,{config:t,onConfigChange:d})}),e.jsx(Q,{value:"data",children:e.jsx(It,{conversations:n,onDeleteConversation:v,onClearConversations:x,onClearAllData:b,onExportAllData:m,onImportData:N})})]})})]})}export{Ht as default};
