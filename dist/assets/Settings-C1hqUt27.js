import{c as _,r as l,u as Ae,a as ae,j as e,b as ne,d as Re,P as E,e as De,R as Ms,I as Is,f as U,g as Te,h as Y,i as As,k as Rs,C as B,l as K,m as V,n as H,o as F,p as Ds,q,s as Ee,B as R,t as _e,v as w,T as Ts,w as de,x as D,F as Es,D as Le,y as te,z as _s,A as Ls,E as $s,G as Pe,H as fe,J as zs,K as Us,L as se,M as Bs,Z as ue,N as me,O as he,Q as Fs,S as Os,U as Ks,V as pe,W as T,X as Me,Y as Vs,_ as Hs,$ as qs}from"./index-Cp0sPK8y.js";const Gs=_("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ys=_("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Js=_("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const Ws=_("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Xs=_("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const Zs=_("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const ve=_("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Qs=_("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const et=_("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const st=_("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const $=_("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const tt=_("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const at=_("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const nt=_("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var re="Tabs",[rt]=ne(re,[De]),$e=De(),[ot,je]=rt(re),ze=l.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,onValueChange:o,defaultValue:u,orientation:r="horizontal",dir:d,activationMode:v="automatic",...p}=s,x=Ae(d),[c,g]=ae({prop:n,onChange:o,defaultProp:u??"",caller:re});return e.jsx(ot,{scope:a,baseId:Re(),value:c,onValueChange:g,orientation:r,dir:x,activationMode:v,children:e.jsx(E.div,{dir:x,"data-orientation":r,...p,ref:t})})});ze.displayName=re;var Ue="TabsList",Be=l.forwardRef((s,t)=>{const{__scopeTabs:a,loop:n=!0,...o}=s,u=je(Ue,a),r=$e(a);return e.jsx(Ms,{asChild:!0,...r,orientation:u.orientation,dir:u.dir,loop:n,children:e.jsx(E.div,{role:"tablist","aria-orientation":u.orientation,...o,ref:t})})});Be.displayName=Ue;var Fe="TabsTrigger",Oe=l.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,disabled:o=!1,...u}=s,r=je(Fe,a),d=$e(a),v=He(r.baseId,n),p=qe(r.baseId,n),x=n===r.value;return e.jsx(Is,{asChild:!0,...d,focusable:!o,active:x,children:e.jsx(E.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:v,...u,ref:t,onMouseDown:U(s.onMouseDown,c=>{!o&&c.button===0&&c.ctrlKey===!1?r.onValueChange(n):c.preventDefault()}),onKeyDown:U(s.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&r.onValueChange(n)}),onFocus:U(s.onFocus,()=>{const c=r.activationMode!=="manual";!x&&!o&&c&&r.onValueChange(n)})})})});Oe.displayName=Fe;var Ke="TabsContent",Ve=l.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,forceMount:o,children:u,...r}=s,d=je(Ke,a),v=He(d.baseId,n),p=qe(d.baseId,n),x=n===d.value,c=l.useRef(x);return l.useEffect(()=>{const g=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(Te,{present:o||x,children:({present:g})=>e.jsx(E.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":v,hidden:!g,id:p,tabIndex:0,...r,ref:t,style:{...s.style,animationDuration:c.current?"0s":void 0},children:g&&u})})});Ve.displayName=Ke;function He(s,t){return`${s}-trigger-${t}`}function qe(s,t){return`${s}-content-${t}`}var it=ze,Ge=Be,Ye=Oe,Je=Ve;const lt=it,We=l.forwardRef(({className:s,...t},a)=>e.jsx(Ge,{ref:a,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));We.displayName=Ge.displayName;const W=l.forwardRef(({className:s,...t},a)=>e.jsx(Ye,{ref:a,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s),...t}));W.displayName=Ye.displayName;const X=l.forwardRef(({className:s,...t},a)=>e.jsx(Je,{ref:a,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));X.displayName=Je.displayName;var ct="Label",Xe=l.forwardRef((s,t)=>e.jsx(E.label,{...s,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(s.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Xe.displayName=ct;var Ze=Xe;const dt=As("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=l.forwardRef(({className:s,...t},a)=>e.jsx(Ze,{ref:a,className:Y(dt(),s),...t}));z.displayName=Ze.displayName;const ut=[{value:"light",icon:at,label:"Light",desc:"Bright and clean"},{value:"dark",icon:et,label:"Dark",desc:"Easy on the eyes"},{value:"system",icon:Qs,label:"System",desc:"Match device"}],mt=l.forwardRef(function(t,a){const{theme:n,setTheme:o}=Rs();return e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"Appearance"}),e.jsx(H,{children:"Customize the look and feel of the application"})]}),e.jsx(F,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(z,{children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:ut.map(({value:u,icon:r,label:d,desc:v})=>e.jsxs("button",{onClick:()=>o(u),className:`p-4 rounded-xl border-2 transition-all text-left ${n===u?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent/50"}`,children:[e.jsx(r,{className:`h-6 w-6 mb-2 ${n===u?"text-primary":"text-muted-foreground"}`}),e.jsx("div",{className:"font-medium",children:d}),e.jsx("div",{className:"text-xs text-muted-foreground",children:v})]},u))})]})})]})});function Qe(s,[t,a]){return Math.min(a,Math.max(t,s))}function es(s){const t=l.useRef({value:s,previous:s});return l.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var ss=["PageUp","PageDown"],ts=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],as={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Z="Slider",[ge,ht,pt]=Ds(Z),[ns]=ne(Z,[pt]),[xt,oe]=ns(Z),rs=l.forwardRef((s,t)=>{const{name:a,min:n=0,max:o=100,step:u=1,orientation:r="horizontal",disabled:d=!1,minStepsBetweenThumbs:v=0,defaultValue:p=[n],value:x,onValueChange:c=()=>{},onValueCommit:g=()=>{},inverted:N=!1,form:j,...y}=s,b=l.useRef(new Set),f=l.useRef(0),P=r==="horizontal"?ft:vt,[M=[],i]=ae({prop:x,defaultProp:p,onChange:A=>{[...b.current][f.current]?.focus(),c(A)}}),m=l.useRef(M);function h(A){const L=wt(M,A);I(A,L)}function k(A){I(A,f.current)}function C(){const A=m.current[f.current];M[f.current]!==A&&g(M)}function I(A,L,{commit:O}={commit:!1}){const ce=Ct(u),Q=Pt(Math.round((A-n)/u)*u+n,ce),ee=Qe(Q,[n,o]);i((J=[])=>{const G=bt(J,ee,L);if(St(G,v*u)){f.current=G.indexOf(ee);const Ce=String(G)!==String(J);return Ce&&O&&g(G),Ce?G:J}else return J})}return e.jsx(xt,{scope:s.__scopeSlider,name:a,disabled:d,min:n,max:o,valueIndexToChangeRef:f,thumbs:b.current,values:M,orientation:r,form:j,children:e.jsx(ge.Provider,{scope:s.__scopeSlider,children:e.jsx(ge.Slot,{scope:s.__scopeSlider,children:e.jsx(P,{"aria-disabled":d,"data-disabled":d?"":void 0,...y,ref:t,onPointerDown:U(y.onPointerDown,()=>{d||(m.current=M)}),min:n,max:o,inverted:N,onSlideStart:d?void 0:h,onSlideMove:d?void 0:k,onSlideEnd:d?void 0:C,onHomeKeyDown:()=>!d&&I(n,0,{commit:!0}),onEndKeyDown:()=>!d&&I(o,M.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:L})=>{if(!d){const Q=ss.includes(A.key)||A.shiftKey&&ts.includes(A.key)?10:1,ee=f.current,J=M[ee],G=u*Q*L;I(J+G,ee,{commit:!0})}}})})})})});rs.displayName=Z;var[os,is]=ns(Z,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ft=l.forwardRef((s,t)=>{const{min:a,max:n,dir:o,inverted:u,onSlideStart:r,onSlideMove:d,onSlideEnd:v,onStepKeyDown:p,...x}=s,[c,g]=l.useState(null),N=q(t,P=>g(P)),j=l.useRef(void 0),y=Ae(o),b=y==="ltr",f=b&&!u||!b&&u;function S(P){const M=j.current||c.getBoundingClientRect(),i=[0,M.width],h=we(i,f?[a,n]:[n,a]);return j.current=M,h(P-M.left)}return e.jsx(os,{scope:s.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:e.jsx(ls,{dir:y,"data-orientation":"horizontal",...x,ref:N,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const M=S(P.clientX);r?.(M)},onSlideMove:P=>{const M=S(P.clientX);d?.(M)},onSlideEnd:()=>{j.current=void 0,v?.()},onStepKeyDown:P=>{const i=as[f?"from-left":"from-right"].includes(P.key);p?.({event:P,direction:i?-1:1})}})})}),vt=l.forwardRef((s,t)=>{const{min:a,max:n,inverted:o,onSlideStart:u,onSlideMove:r,onSlideEnd:d,onStepKeyDown:v,...p}=s,x=l.useRef(null),c=q(t,x),g=l.useRef(void 0),N=!o;function j(y){const b=g.current||x.current.getBoundingClientRect(),f=[0,b.height],P=we(f,N?[n,a]:[a,n]);return g.current=b,P(y-b.top)}return e.jsx(os,{scope:s.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:e.jsx(ls,{"data-orientation":"vertical",...p,ref:c,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=j(y.clientY);u?.(b)},onSlideMove:y=>{const b=j(y.clientY);r?.(b)},onSlideEnd:()=>{g.current=void 0,d?.()},onStepKeyDown:y=>{const f=as[N?"from-bottom":"from-top"].includes(y.key);v?.({event:y,direction:f?-1:1})}})})}),ls=l.forwardRef((s,t)=>{const{__scopeSlider:a,onSlideStart:n,onSlideMove:o,onSlideEnd:u,onHomeKeyDown:r,onEndKeyDown:d,onStepKeyDown:v,...p}=s,x=oe(Z,a);return e.jsx(E.span,{...p,ref:t,onKeyDown:U(s.onKeyDown,c=>{c.key==="Home"?(r(c),c.preventDefault()):c.key==="End"?(d(c),c.preventDefault()):ss.concat(ts).includes(c.key)&&(v(c),c.preventDefault())}),onPointerDown:U(s.onPointerDown,c=>{const g=c.target;g.setPointerCapture(c.pointerId),c.preventDefault(),x.thumbs.has(g)?g.focus():n(c)}),onPointerMove:U(s.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&o(c)}),onPointerUp:U(s.onPointerUp,c=>{const g=c.target;g.hasPointerCapture(c.pointerId)&&(g.releasePointerCapture(c.pointerId),u(c))})})}),cs="SliderTrack",ds=l.forwardRef((s,t)=>{const{__scopeSlider:a,...n}=s,o=oe(cs,a);return e.jsx(E.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:t})});ds.displayName=cs;var ye="SliderRange",us=l.forwardRef((s,t)=>{const{__scopeSlider:a,...n}=s,o=oe(ye,a),u=is(ye,a),r=l.useRef(null),d=q(t,r),v=o.values.length,p=o.values.map(g=>ps(g,o.min,o.max)),x=v>1?Math.min(...p):0,c=100-Math.max(...p);return e.jsx(E.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:d,style:{...s.style,[u.startEdge]:x+"%",[u.endEdge]:c+"%"}})});us.displayName=ye;var be="SliderThumb",ms=l.forwardRef((s,t)=>{const a=ht(s.__scopeSlider),[n,o]=l.useState(null),u=q(t,d=>o(d)),r=l.useMemo(()=>n?a().findIndex(d=>d.ref.current===n):-1,[a,n]);return e.jsx(gt,{...s,ref:u,index:r})}),gt=l.forwardRef((s,t)=>{const{__scopeSlider:a,index:n,name:o,...u}=s,r=oe(be,a),d=is(be,a),[v,p]=l.useState(null),x=q(t,S=>p(S)),c=v?r.form||!!v.closest("form"):!0,g=Ee(v),N=r.values[n],j=N===void 0?0:ps(N,r.min,r.max),y=jt(n,r.values.length),b=g?.[d.size],f=b?Nt(b,j,d.direction):0;return l.useEffect(()=>{if(v)return r.thumbs.add(v),()=>{r.thumbs.delete(v)}},[v,r.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${j}% + ${f}px)`},children:[e.jsx(ge.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(E.span,{role:"slider","aria-label":s["aria-label"]||y,"aria-valuemin":r.min,"aria-valuenow":N,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0,...u,ref:x,style:N===void 0?{display:"none"}:s.style,onFocus:U(s.onFocus,()=>{r.valueIndexToChangeRef.current=n})})}),c&&e.jsx(hs,{name:o??(r.name?r.name+(r.values.length>1?"[]":""):void 0),form:r.form,value:N},n)]})});ms.displayName=be;var yt="RadioBubbleInput",hs=l.forwardRef(({__scopeSlider:s,value:t,...a},n)=>{const o=l.useRef(null),u=q(o,n),r=es(t);return l.useEffect(()=>{const d=o.current;if(!d)return;const v=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(v,"value").set;if(r!==t&&x){const c=new Event("input",{bubbles:!0});x.call(d,t),d.dispatchEvent(c)}},[r,t]),e.jsx(E.input,{style:{display:"none"},...a,ref:u,defaultValue:t})});hs.displayName=yt;function bt(s=[],t,a){const n=[...s];return n[a]=t,n.sort((o,u)=>o-u)}function ps(s,t,a){const u=100/(a-t)*(s-t);return Qe(u,[0,100])}function jt(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function wt(s,t){if(s.length===1)return 0;const a=s.map(o=>Math.abs(o-t)),n=Math.min(...a);return a.indexOf(n)}function Nt(s,t,a){const n=s/2,u=we([0,50],[0,n]);return(n-u(t)*a)*a}function kt(s){return s.slice(0,-1).map((t,a)=>s[a+1]-t)}function St(s,t){if(t>0){const a=kt(s);return Math.min(...a)>=t}return!0}function we(s,t){return a=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(s[1]-s[0]);return t[0]+n*(a-s[0])}}function Ct(s){return(String(s).split(".")[1]||"").length}function Pt(s,t){const a=Math.pow(10,t);return Math.round(s*a)/a}var xs=rs,Mt=ds,It=us,At=ms;const fs=l.forwardRef(({className:s,...t},a)=>e.jsxs(xs,{ref:a,className:Y("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(Mt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(It,{className:"absolute h-full bg-primary"})}),e.jsx(At,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fs.displayName=xs.displayName;const Rt=[{key:"temperature",label:"Temperature",min:0,max:2,step:.01,desc:"Controls randomness. Lower = more focused, higher = more creative"},{key:"maxTokens",label:"Max Tokens",min:256,max:32768,step:256,desc:"Maximum length of the response"},{key:"topP",label:"Top P",min:0,max:1,step:.01,desc:"Nucleus sampling. Lower = more focused vocabulary"},{key:"frequencyPenalty",label:"Frequency Penalty",min:0,max:2,step:.01,desc:"Reduces repetition of frequent tokens"},{key:"presencePenalty",label:"Presence Penalty",min:0,max:2,step:.01,desc:"Encourages talking about new topics"}];function Dt({config:s,onConfigChange:t}){const a=o=>{t({...s,...o})},n=()=>{window.confirm("Reset all settings to defaults?")&&(t(_e),w.success("Settings reset to defaults"))};return e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"Advanced Parameters"}),e.jsx(H,{children:"Fine-tune the model's response generation"})]}),e.jsxs(F,{className:"space-y-8",children:[Rt.map(({key:o,label:u,min:r,max:d,step:v,desc:p})=>{const x=s[o],c=typeof x=="number"?x:0;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx(z,{children:u}),e.jsx("p",{className:"text-xs text-muted-foreground",children:p})]}),e.jsx("span",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:o==="maxTokens"?c:c.toFixed(2)})]}),e.jsx(fs,{value:[c],onValueChange:([g])=>a({[o]:g}),min:r,max:d,step:v,className:"py-2"})]},o)}),e.jsx("div",{className:"pt-4 border-t border-border",children:e.jsx(R,{variant:"outline",onClick:n,className:"w-full",children:"Reset to Defaults"})})]})]})}function Tt({config:s,onConfigChange:t}){return e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"System Prompt"}),e.jsx(H,{children:"Define the AI assistant's personality and behavior"})]}),e.jsxs(F,{children:[e.jsx(Ts,{value:s.systemPrompt,onChange:a=>t({...s,systemPrompt:a.target.value}),placeholder:"You are a helpful AI assistant...",className:"min-h-[200px] resize-none"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This prompt is sent at the beginning of every conversation to set the AI's behavior"})]})]})}function Ie(s){if(s===0)return"0 B";const t=1024,a=["B","KB","MB"],n=Math.floor(Math.log(s)/Math.log(t));return`${parseFloat((s/Math.pow(t,n)).toFixed(1))} ${a[n]}`}function Et(s){return new Blob([JSON.stringify(s)]).size}function _t(){let s=0;for(let t=0;t<localStorage.length;t++){const a=localStorage.key(t);if(a?.startsWith("openchat-")){const n=localStorage.getItem(a)||"";s+=new Blob([n]).size}}return s}function Lt({conversations:s,onDeleteConversation:t,onClearConversations:a,onClearAllData:n,onExportAllData:o,onImportData:u}){const r=l.useRef(null),[d,v]=l.useState("localstorage"),[p,x]=l.useState(null),[c,g]=l.useState(!1),[N,j]=l.useState(!1);l.useEffect(()=>{(async()=>(await D.init(),v(D.getStorageType()),x(D.getDirectoryName()),j(D.needsReauthorization())))()},[]);const y=l.useCallback(async()=>{if(!de()){w.error("File System API not supported in this browser. Try Chrome or Edge.");return}g(!0);try{await D.switchToFileSystem()&&(v("filesystem"),x(D.getDirectoryName()),j(!1),w.success("Folder selected! Your data will be stored locally."))}catch{w.error("Failed to select folder")}finally{g(!1)}},[]),b=l.useCallback(async()=>{g(!0);try{await D.reauthorize()?(j(!1),x(D.getDirectoryName()),w.success("Folder access restored!")):(v("indexeddb"),w.info("Could not access folder. Switched to browser storage."))}catch{w.error("Failed to reauthorize folder access")}finally{g(!1)}},[]),f=l.useCallback(async()=>{g(!0);try{await D.switchToIndexedDB(),v("indexeddb"),x(null),w.success("Switched to browser storage (IndexedDB)")}finally{g(!1)}},[]),S=l.useCallback(async()=>{if(window.confirm("Disconnect from folder? Data in the folder will be preserved.")){g(!0);try{await D.disconnectFileSystem(),v("indexeddb"),x(null),w.success("Disconnected from folder")}finally{g(!1)}}},[]),P=l.useCallback(i=>{const m=i.target.files?.[0];if(!m)return;const h=new FileReader;h.onload=k=>{try{const C=JSON.parse(k.target?.result);if(!C.config&&!C.conversations){w.error("Invalid backup file format");return}const I=C.config&&typeof C.config=="object",A=Array.isArray(C.conversations);if(!I&&!A){w.error("No valid data found in backup file");return}const L=`Import ${A?C.conversations.length+" conversations":""}${I&&A?" and ":""}${I?"settings":""}? This will merge with existing data.`;window.confirm(L)&&(u?.({config:I?C.config:void 0,conversations:A?C.conversations:void 0}),w.success("Data imported successfully"))}catch{w.error("Failed to parse backup file")}},h.readAsText(m),r.current&&(r.current.value="")},[u]),M=_t();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(B,{className:"border-primary/20",children:[e.jsxs(K,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xs,{className:"h-5 w-5 text-primary"}),e.jsx(V,{children:"Storage Location"})]}),e.jsx(H,{children:"Choose where to store your chat data"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3",children:[de()&&e.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${d==="filesystem"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Es,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Local Folder (SSD/HDD)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:p?`Connected: ${p}/anikchat-data`:"Store data in a folder you choose"})]})]}),d==="filesystem"&&N?e.jsx(R,{size:"sm",onClick:b,disabled:c,children:c?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):"Reconnect"}):d==="filesystem"?e.jsx(R,{variant:"outline",size:"sm",onClick:S,disabled:c,children:"Disconnect"}):e.jsx(R,{size:"sm",onClick:y,disabled:c,children:c?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):"Select Folder"})]}),d==="filesystem"&&N&&e.jsx("p",{className:"text-xs text-amber-500 mt-2",children:'Click "Reconnect" to restore access to your saved folder'})]}),e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${d==="indexeddb"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Js,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Browser Storage (IndexedDB)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Large capacity, works in all browsers"})]})]}),d!=="indexeddb"&&e.jsx(R,{variant:"outline",size:"sm",onClick:f,disabled:c,children:"Use This"}),d==="indexeddb"&&e.jsx(Ys,{className:"h-5 w-5 text-primary"})]})})]}),!de()&&e.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded-lg",children:"ðŸ’¡ Use Chrome or Edge to enable local folder storage"})]})]}),e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"Storage Overview"}),e.jsx(H,{children:"Manage your locally stored data"})]}),e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ie(M)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.length," conversation",s.length!==1?"s":""," stored"]})]}),e.jsx(Le,{className:"h-10 w-10 text-muted-foreground/50"})]})})]}),e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"Stored Conversations"}),e.jsx(H,{children:"Delete individual conversations to free up space"})]}),e.jsx(F,{children:s.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No conversations stored"}):e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto scrollbar-thin",children:s.map(i=>({...i,size:Et(i)})).sort((i,m)=>m.size-i.size).map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 hover:bg-muted/50 border border-border rounded-lg group transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-3",children:[e.jsx("p",{className:"font-medium truncate",children:i.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.messages.length," messages Â· ",Ie(i.size),i.summary&&" Â· summarized"]})]}),e.jsx(R,{variant:"ghost",size:"icon",className:"opacity-50 group-hover:opacity-100 hover:bg-destructive/10 hover:text-destructive transition-all",onClick:()=>t(i.id),children:e.jsx(te,{className:"h-4 w-4"})})]},i.id))})})]}),e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"Data Actions"}),e.jsx(H,{children:"Export or clear your data"})]}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(R,{variant:"outline",className:"gap-2",onClick:o,children:[e.jsx(_s,{className:"h-4 w-4"}),"Export Data"]}),e.jsx("input",{type:"file",ref:r,accept:".json",onChange:P,className:"hidden"}),e.jsxs(R,{variant:"outline",className:"gap-2",onClick:()=>r.current?.click(),children:[e.jsx(nt,{className:"h-4 w-4"}),"Import Backup"]})]}),e.jsxs(R,{variant:"outline",className:"w-full gap-2 text-orange-500 hover:text-orange-600 hover:border-orange-400",onClick:a,disabled:s.length===0,children:[e.jsx(te,{className:"h-4 w-4"}),"Clear All Conversations"]}),e.jsxs("div",{className:"pt-3 border-t border-border",children:[e.jsxs(R,{variant:"destructive",className:"w-full gap-2",onClick:n,children:[e.jsx(Ls,{className:"h-4 w-4"}),"Delete All Data"]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"This will remove all settings, conversations, and summaries"})]})]})]})]})}var ie="Switch",[$t]=ne(ie),[zt,Ut]=$t(ie),vs=l.forwardRef((s,t)=>{const{__scopeSwitch:a,name:n,checked:o,defaultChecked:u,required:r,disabled:d,value:v="on",onCheckedChange:p,form:x,...c}=s,[g,N]=l.useState(null),j=q(t,P=>N(P)),y=l.useRef(!1),b=g?x||!!g.closest("form"):!0,[f,S]=ae({prop:o,defaultProp:u??!1,onChange:p,caller:ie});return e.jsxs(zt,{scope:a,checked:f,disabled:d,children:[e.jsx(E.button,{type:"button",role:"switch","aria-checked":f,"aria-required":r,"data-state":js(f),"data-disabled":d?"":void 0,disabled:d,value:v,...c,ref:j,onClick:U(s.onClick,P=>{S(M=>!M),b&&(y.current=P.isPropagationStopped(),y.current||P.stopPropagation())})}),b&&e.jsx(bs,{control:g,bubbles:!y.current,name:n,value:v,checked:f,required:r,disabled:d,form:x,style:{transform:"translateX(-100%)"}})]})});vs.displayName=ie;var gs="SwitchThumb",ys=l.forwardRef((s,t)=>{const{__scopeSwitch:a,...n}=s,o=Ut(gs,a);return e.jsx(E.span,{"data-state":js(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})});ys.displayName=gs;var Bt="SwitchBubbleInput",bs=l.forwardRef(({__scopeSwitch:s,control:t,checked:a,bubbles:n=!0,...o},u)=>{const r=l.useRef(null),d=q(r,u),v=es(a),p=Ee(t);return l.useEffect(()=>{const x=r.current;if(!x)return;const c=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(c,"checked").set;if(v!==a&&N){const j=new Event("click",{bubbles:n});N.call(x,a),x.dispatchEvent(j)}},[v,a,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...o,tabIndex:-1,ref:d,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bs.displayName=Bt;function js(s){return s?"checked":"unchecked"}var ws=vs,Ft=ys;const Ns=l.forwardRef(({className:s,...t},a)=>e.jsx(ws,{className:Y("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",s),...t,ref:a,children:e.jsx(Ft,{className:Y("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ns.displayName=ws.displayName;var le="Collapsible",[Ot]=ne(le),[Kt,Ne]=Ot(le),ks=l.forwardRef((s,t)=>{const{__scopeCollapsible:a,open:n,defaultOpen:o,disabled:u,onOpenChange:r,...d}=s,[v,p]=ae({prop:n,defaultProp:o??!1,onChange:r,caller:le});return e.jsx(Kt,{scope:a,disabled:u,contentId:Re(),open:v,onOpenToggle:l.useCallback(()=>p(x=>!x),[p]),children:e.jsx(E.div,{"data-state":Se(v),"data-disabled":u?"":void 0,...d,ref:t})})});ks.displayName=le;var Ss="CollapsibleTrigger",Cs=l.forwardRef((s,t)=>{const{__scopeCollapsible:a,...n}=s,o=Ne(Ss,a);return e.jsx(E.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Se(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:U(s.onClick,o.onOpenToggle)})});Cs.displayName=Ss;var ke="CollapsibleContent",Ps=l.forwardRef((s,t)=>{const{forceMount:a,...n}=s,o=Ne(ke,s.__scopeCollapsible);return e.jsx(Te,{present:a||o.open,children:({present:u})=>e.jsx(Vt,{...n,ref:t,present:u})})});Ps.displayName=ke;var Vt=l.forwardRef((s,t)=>{const{__scopeCollapsible:a,present:n,children:o,...u}=s,r=Ne(ke,a),[d,v]=l.useState(n),p=l.useRef(null),x=q(t,p),c=l.useRef(0),g=c.current,N=l.useRef(0),j=N.current,y=r.open||d,b=l.useRef(y),f=l.useRef(void 0);return l.useEffect(()=>{const S=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(S)},[]),$s(()=>{const S=p.current;if(S){f.current=f.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const P=S.getBoundingClientRect();c.current=P.height,N.current=P.width,b.current||(S.style.transitionDuration=f.current.transitionDuration,S.style.animationName=f.current.animationName),v(n)}},[r.open,n]),e.jsx(E.div,{"data-state":Se(r.open),"data-disabled":r.disabled?"":void 0,id:r.contentId,hidden:!y,...u,ref:x,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...s.style},children:y&&o})});function Se(s){return s?"open":"closed"}var Ht=ks;const qt=Ht,Gt=Cs,Yt=Ps,xe=[{id:"openai",name:"OpenAI",baseUrl:"https://api.openai.com/v1",placeholder:"sk-..."},{id:"anthropic",name:"Anthropic",baseUrl:"https://api.anthropic.com/v1",placeholder:"sk-ant-..."},{id:"google",name:"Google AI",baseUrl:"https://generativelanguage.googleapis.com/v1beta/openai",placeholder:"AIza..."},{id:"groq",name:"Groq",baseUrl:"https://api.groq.com/openai/v1",placeholder:"gsk_..."},{id:"mistral",name:"Mistral AI",baseUrl:"https://api.mistral.ai/v1",placeholder:"api-key"},{id:"together",name:"Together AI",baseUrl:"https://api.together.xyz/v1",placeholder:"api-key"},{id:"openrouter",name:"OpenRouter",baseUrl:"https://openrouter.ai/api/v1",placeholder:"sk-or-..."},{id:"deepseek",name:"DeepSeek",baseUrl:"https://api.deepseek.com/v1",placeholder:"sk-..."},{id:"fireworks",name:"Fireworks AI",baseUrl:"https://api.fireworks.ai/inference/v1",placeholder:"fw_..."},{id:"perplexity",name:"Perplexity",baseUrl:"https://api.perplexity.ai",placeholder:"pplx-..."},{id:"nebius",name:"Nebius Token Factory",baseUrl:"https://api.tokenfactory.nebius.com/v1",placeholder:"api-key"},{id:"sambanova",name:"SambaNova Cloud",baseUrl:"https://api.sambanova.ai/v1",placeholder:"api-key"},{id:"ollama",name:"Ollama (Local)",baseUrl:"http://localhost:11434/v1",placeholder:"optional"},{id:"lmstudio",name:"LM Studio (Local)",baseUrl:"http://localhost:1234/v1",placeholder:"optional"},{id:"custom",name:"OpenAI Compatible (Custom)",baseUrl:"",placeholder:"api-key"}];function Jt({config:s,onConfigChange:t}){const[a,n]=l.useState(new Set),[o,u]=l.useState(new Set),r=s.providers??[],d=l.useCallback(i=>{n(m=>{const h=new Set(m);return h.has(i)?h.delete(i):h.add(i),h})},[]),v=l.useCallback(i=>{u(m=>{const h=new Set(m);return h.has(i)?h.delete(i):h.add(i),h})},[]),p=l.useCallback(i=>{const m=xe.find(k=>k.id===i);if(!m)return;const h={id:Pe(),name:m.name,baseUrl:m.baseUrl,apiKey:"",models:[]};t({...s,providers:[...r,h]}),n(k=>new Set(k).add(h.id)),w.success(`${m.name} provider added`)},[s,r,t]),x=l.useCallback((i,m)=>{t({...s,providers:r.map(h=>h.id===i?{...h,...m}:h)})},[s,r,t]),c=l.useCallback(i=>{if(!window.confirm("Delete this provider and all its models?"))return;const m=r.filter(C=>C.id!==i);let h=s.activeProviderId,k=s.activeModelId;s.activeProviderId===i&&(h=null,k=null),t({...s,providers:m,activeProviderId:h,activeModelId:k}),w.success("Provider deleted")},[s,r,t]),g=l.useCallback(i=>{const m={id:Pe(),modelId:"",displayName:"New Model",isVisionModel:!1};t({...s,providers:r.map(h=>h.id===i?{...h,models:[...h.models,m]}:h)}),w.success("Model added")},[s,r,t]),N=l.useCallback((i,m,h)=>{t({...s,providers:r.map(k=>k.id===i?{...k,models:k.models.map(C=>C.id===m?{...C,...h}:C)}:k)})},[s,r,t]),j=l.useCallback((i,m)=>{let h=s.activeProviderId,k=s.activeModelId;s.activeModelId===m&&(h=null,k=null),t({...s,providers:r.map(C=>C.id===i?{...C,models:C.models.filter(I=>I.id!==m)}:C),activeProviderId:h,activeModelId:k}),w.success("Model deleted")},[s,r,t]),y=l.useCallback((i,m)=>{const h=r.find(C=>C.id===i);if(!h?.apiKey&&!h?.baseUrl.includes("localhost")){w.error("Please add an API key for this provider first");return}t({...s,activeProviderId:i,activeModelId:m});const k=h.models.find(C=>C.id===m);w.success(`Activated: ${k?.displayName||k?.modelId}`)},[s,r,t]),[b,f]=l.useState(null),S=l.useCallback(async i=>{const m=r.find(I=>I.id===i);if(!m)return;const h=m.baseUrl.includes("localhost")||m.baseUrl.includes("127.0.0.1");if(!m.apiKey&&!h){w.error("Please add an API key first");return}if(m.models.length===0){w.error("Please add at least one model first");return}f(i);const k=m.models[0],C=m.baseUrl.replace(/\/+$/,"");try{const I={"Content-Type":"application/json"};m.apiKey&&(I.Authorization=`Bearer ${m.apiKey}`);const A=new AbortController,L=setTimeout(()=>A.abort(),15e3),O=await fetch(`${C}/chat/completions`,{method:"POST",headers:I,body:JSON.stringify({model:k.modelId,messages:[{role:"user",content:"Hi"}],max_tokens:5}),signal:A.signal});if(clearTimeout(L),O.ok)w.success(`${m.name} connection successful!`);else{const Q=(await O.json().catch(()=>({}))).error?.message||`Error ${O.status}`;O.status===401?w.error("Invalid API key"):O.status===404?w.error(`Model "${k.modelId}" not found. Check the model ID.`):O.status===429?w.error("Rate limited. Connection works but try again later."):w.error(`Connection failed: ${Q}`)}}catch(I){I instanceof Error?I.name==="AbortError"?w.error("Connection timed out. Check the base URL."):I.message.includes("Failed to fetch")?w.error("Cannot connect. Check base URL and network."):w.error(`Error: ${I.message}`):w.error("Unknown error occurred")}finally{f(null)}},[r]),P=i=>xe.find(h=>h.name===i)?.placeholder||"api-key",M=i=>{const m=xe.find(h=>h.name===i.name);return i.name==="OpenAI Compatible (Custom)"||!m};return e.jsxs("div",{className:"space-y-4",children:[s.activeProviderId&&s.activeModelId&&e.jsx(B,{className:"border-green-500/50 bg-green-500/5",children:e.jsx(F,{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Active:"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{const i=r.find(h=>h.id===s.activeProviderId),m=i?.models.find(h=>h.id===s.activeModelId);return`${i?.name} â†’ ${m?.displayName||m?.modelId}`})()})]})})}),r.map(i=>e.jsx(B,{className:"overflow-hidden",children:e.jsxs(qt,{open:a.has(i.id),onOpenChange:()=>d(i.id),children:[e.jsx(Gt,{asChild:!0,children:e.jsx(K,{className:"cursor-pointer hover:bg-accent/50 transition-colors py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a.has(i.id)?e.jsx(zs,{className:"h-4 w-4"}):e.jsx(Us,{className:"h-4 w-4"}),e.jsx($,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx(V,{className:"text-base",children:i.name}),e.jsxs(H,{className:"text-xs",children:[i.models.length," model",i.models.length!==1?"s":"",!i.apiKey&&!i.baseUrl.includes("localhost")&&" â€¢ No API key"]})]})]}),e.jsx(R,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),c(i.id)},className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(te,{className:"h-4 w-4"})})]})})}),e.jsx(Yt,{children:e.jsxs(F,{className:"space-y-4 pt-0",children:[e.jsxs("div",{className:"grid gap-4 p-4 bg-muted/30 rounded-lg",children:[M(i)?e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{children:"Base URL"}),e.jsx(se,{value:i.baseUrl,onChange:m=>x(i.id,{baseUrl:m.target.value}),placeholder:"https://api.example.com/v1",className:"font-mono text-sm"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{className:"text-muted-foreground",children:"Base URL"}),e.jsx("p",{className:"text-xs font-mono text-muted-foreground bg-muted/50 px-3 py-2 rounded",children:i.baseUrl})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{children:"API Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{type:o.has(i.id)?"text":"password",value:i.apiKey,onChange:m=>x(i.id,{apiKey:m.target.value}),placeholder:P(i.name),className:"font-mono text-sm pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>v(i.id),children:o.has(i.id)?e.jsx(Ws,{className:"h-4 w-4"}):e.jsx(Bs,{className:"h-4 w-4"})})]}),i.baseUrl.includes("localhost")&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"API key is optional for local providers"})]}),e.jsx(R,{variant:"outline",size:"sm",onClick:()=>S(i.id),disabled:b===i.id||i.models.length===0,className:"gap-2",children:b===i.id?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-4 w-4"}),"Test Connection"]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(z,{className:"text-sm font-medium",children:"Models"}),e.jsxs(R,{variant:"outline",size:"sm",onClick:()=>g(i.id),className:"gap-1",children:[e.jsx(me,{className:"h-3 w-3"}),"Add Model"]})]}),i.models.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No models added yet. Add a model with its Model ID."}):e.jsx("div",{className:"space-y-2",children:i.models.map(m=>{const h=s.activeProviderId===i.id&&s.activeModelId===m.id;return e.jsx("div",{className:`p-3 rounded-lg border transition-all ${h?"border-green-500 bg-green-500/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{className:`h-4 w-4 mt-1 ${h?"text-green-500":"text-muted-foreground"}`}),e.jsxs("div",{className:"flex-1 grid gap-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(z,{className:"text-xs",children:"Display Name"}),e.jsx(se,{value:m.displayName,onChange:k=>N(i.id,m.id,{displayName:k.target.value}),placeholder:"GPT-4o",className:"h-8 text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(z,{className:"text-xs",children:"Model ID"}),e.jsx(se,{value:m.modelId,onChange:k=>N(i.id,m.id,{modelId:k.target.value}),placeholder:"gpt-4o",className:"h-8 text-sm font-mono"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{checked:m.isVisionModel,onCheckedChange:k=>N(i.id,m.id,{isVisionModel:k})}),e.jsx(z,{className:"text-xs text-muted-foreground",children:"Vision capable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{variant:h?"default":"outline",size:"sm",onClick:()=>y(i.id,m.id),className:"gap-1",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"h-3 w-3"}),"Active"]}):"Activate"}),e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>j(i.id,m.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10 px-2",children:e.jsx(te,{className:"h-3 w-3"})})]})]})]})]})},m.id)})})]})]})})]})},i.id)),e.jsxs(Fs,{children:[e.jsx(Os,{asChild:!0,children:e.jsxs(R,{variant:"outline",className:"w-full border-dashed justify-start gap-2 text-muted-foreground",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:"Add LLM Provider"})]})}),e.jsxs(Ks,{className:"w-64",align:"start",children:[e.jsx(pe,{className:"text-xs text-muted-foreground",children:"Cloud Providers"}),e.jsxs(T,{onClick:()=>p("openai"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," OpenAI"]}),e.jsxs(T,{onClick:()=>p("anthropic"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," Anthropic (Claude)"]}),e.jsxs(T,{onClick:()=>p("google"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," Google AI (Gemini)"]}),e.jsxs(T,{onClick:()=>p("groq"),className:"cursor-pointer",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"})," Groq"]}),e.jsxs(T,{onClick:()=>p("mistral"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," Mistral AI"]}),e.jsxs(T,{onClick:()=>p("together"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," Together AI"]}),e.jsxs(T,{onClick:()=>p("openrouter"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," OpenRouter"]}),e.jsxs(T,{onClick:()=>p("deepseek"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," DeepSeek"]}),e.jsxs(T,{onClick:()=>p("fireworks"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," Fireworks AI"]}),e.jsxs(T,{onClick:()=>p("perplexity"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," Perplexity"]}),e.jsxs(T,{onClick:()=>p("nebius"),className:"cursor-pointer",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," Nebius Token Factory"]}),e.jsxs(T,{onClick:()=>p("sambanova"),className:"cursor-pointer",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"})," SambaNova Cloud"]}),e.jsx(Me,{}),e.jsx(pe,{className:"text-xs text-muted-foreground",children:"Local Providers"}),e.jsxs(T,{onClick:()=>p("ollama"),className:"cursor-pointer",children:[e.jsx(he,{className:"h-4 w-4 mr-2"})," Ollama (Local)"]}),e.jsxs(T,{onClick:()=>p("lmstudio"),className:"cursor-pointer",children:[e.jsx(he,{className:"h-4 w-4 mr-2"})," LM Studio (Local)"]}),e.jsx(Me,{}),e.jsx(pe,{className:"text-xs text-muted-foreground",children:"Custom"}),e.jsxs(T,{onClick:()=>p("custom"),className:"cursor-pointer",children:[e.jsx(me,{className:"h-4 w-4 mr-2"})," OpenAI Compatible (Custom)"]})]})]}),r.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Select a provider above to get started"})]})}function Wt({config:s,onConfigChange:t}){const a=n=>{t({...s,...n})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"LLM Providers"}),e.jsx(H,{children:"Configure your AI providers and models."})]}),e.jsx(F,{children:e.jsx(Jt,{config:s,onConfigChange:t})})]}),e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"Active Model"}),e.jsx(H,{children:"Select which model to use for conversations"})]}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{children:"Select Model"}),e.jsxs("select",{className:"w-full p-2.5 rounded-md border border-border bg-background text-sm",value:`${s.activeProviderId}:${s.activeModelId}`,onChange:n=>{const[o,u]=n.target.value.split(":");a({activeProviderId:o||null,activeModelId:u||null})},children:[e.jsx("option",{value:":",children:"Select a model..."}),(s.providers||[]).flatMap(n=>n.models.map(o=>e.jsxs("option",{value:`${n.id}:${o.id}`,children:[n.name," / ",o.displayName," ",o.isVisionModel&&"ðŸ‘ï¸"]},`${n.id}:${o.id}`)))]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This model handles all chat interactions. Vision models (ðŸ‘ï¸) can process images directly."})]})})]})]})}function Zt(){const s=Vs(),[t,a]=Hs(_e),[n,o]=l.useState([]),[u,r]=l.useState(!1);l.useEffect(()=>{(async()=>{try{const y=await D.listConversations(),b=[];for(const f of y){const S=await D.getConversation(f);S&&b.push(S)}b.sort((f,S)=>new Date(S.updatedAt).getTime()-new Date(f.updatedAt).getTime()),o(b)}catch{const y=localStorage.getItem("openchat-conversations");y&&o(JSON.parse(y))}})()},[]);const d=l.useCallback(j=>{a(j)},[a]),v=l.useCallback(()=>{r(!0),w.success("Settings saved"),setTimeout(()=>r(!1),2e3)},[]),p=l.useCallback(()=>{const j={config:t,conversations:n,exportedAt:new Date().toISOString()},y=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),b=URL.createObjectURL(y),f=document.createElement("a");f.href=b,f.download=`anikchat-backup-${new Date().toISOString().split("T")[0]}.json`,f.click(),URL.revokeObjectURL(b),w.success("Data exported successfully")},[t,n]),x=l.useCallback(async j=>{window.confirm("Delete this conversation?")&&(await D.deleteConversation(j),o(y=>y.filter(b=>b.id!==j)),w.success("Conversation deleted"))},[]),c=l.useCallback(async()=>{if(window.confirm("Delete all conversations? This cannot be undone.")){for(const j of n)await D.deleteConversation(j.id);o([]),w.success("All conversations deleted")}},[n]),g=l.useCallback(async()=>{window.confirm("âš ï¸ Delete ALL data? This cannot be undone!")&&(await D.clearAll(),localStorage.removeItem("openchat-config"),localStorage.removeItem("openchat-conversations"),w.success("All data cleared"),window.location.reload())},[]),N=l.useCallback(async j=>{if(j.config&&a(y=>({...y,...j.config,providers:[...y.providers,...(j.config?.providers||[]).filter(b=>!y.providers.some(f=>f.id===b.id))]})),j.conversations){const y=new Set(n.map(f=>f.id)),b=j.conversations.filter(f=>!y.has(f.id));for(const f of b)await D.saveConversation(f.id,f);o(f=>[...b,...f])}},[a,n]);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-14 flex items-center gap-4",children:[e.jsx(R,{variant:"ghost",size:"icon",onClick:()=>s("/"),children:e.jsx(Gs,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold",children:"Settings"}),e.jsx("div",{className:"flex-1"}),e.jsxs(R,{onClick:v,className:"gap-2",children:[u&&e.jsx(fe,{className:"h-4 w-4"}),u?"Saved!":"Save Changes"]})]})}),e.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs(lt,{defaultValue:"appearance",className:"space-y-6",children:[e.jsxs(We,{className:"grid w-full grid-cols-5 h-auto p-1",children:[e.jsxs(W,{value:"appearance",className:"gap-2 py-2",children:[e.jsx(st,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Appearance"})]}),e.jsxs(W,{value:"api",className:"gap-2 py-2",children:[e.jsx(Zs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"API"})]}),e.jsxs(W,{value:"prompt",className:"gap-2 py-2",children:[e.jsx(qs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prompt"})]}),e.jsxs(W,{value:"advanced",className:"gap-2 py-2",children:[e.jsx(tt,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"})]}),e.jsxs(W,{value:"data",className:"gap-2 py-2",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Data"})]})]}),e.jsx(X,{value:"appearance",children:e.jsx(mt,{})}),e.jsx(X,{value:"api",children:e.jsx(Wt,{config:t,onConfigChange:d})}),e.jsx(X,{value:"prompt",children:e.jsx(Tt,{config:t,onConfigChange:d})}),e.jsx(X,{value:"advanced",children:e.jsx(Dt,{config:t,onConfigChange:d})}),e.jsx(X,{value:"data",children:e.jsx(Lt,{conversations:n,onDeleteConversation:x,onClearConversations:c,onClearAllData:g,onExportAllData:p,onImportData:N})})]})})]})}export{Zt as default};
