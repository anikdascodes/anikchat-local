import{x as hs,j as e,y as Ae,z as De,A as Re,P as $,b as ve,c as ye,a as ps,e as q,u as H,D as xs,E as Ee,F as Te,G as Le,H as fs,d as gs,h as vs}from"./ui-vendor-C_OkecJZ.js";import{a as o,u as ys}from"./react-vendor-D7viC-Io.js";import{c as T,a as Y,b as bs,u as js,C as U,d as F,e as K,f as V,g as B,B as D,s as Ce,h as w,p as ws,i as _e,j as Ns,T as ks,k as ie,l as R,F as Ss,D as ze,m as te,n as Cs,o as Pe,q as he,r as Ps,t as Ms,I as se,E as Is,Z as le,P as ce,v as de,w as As,x as Ds,y as Rs,z as ue,A as E,G as Me,H as Es,M as Ts}from"./index-CYwSQOO0.js";import"./syntax-D2oyAJZR.js";import"./markdown-BTVKA1KH.js";import"./math-lXrcvxFN.js";const Ls=T("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const _s=T("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const zs=T("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const Us=T("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Bs=T("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const $s=T("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const pe=T("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Os=T("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const Fs=T("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Ks=T("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const z=T("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const Vs=T("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const Hs=T("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const qs=T("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Gs=T("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ys=hs,Ue=o.forwardRef(({className:s,...t},a)=>e.jsx(Ae,{ref:a,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));Ue.displayName=Ae.displayName;const W=o.forwardRef(({className:s,...t},a)=>e.jsx(De,{ref:a,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s),...t}));W.displayName=De.displayName;const X=o.forwardRef(({className:s,...t},a)=>e.jsx(Re,{ref:a,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));X.displayName=Re.displayName;var Js="Label",Be=o.forwardRef((s,t)=>e.jsx($.label,{...s,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(s.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Be.displayName=Js;var $e=Be;const Ws=bs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),L=o.forwardRef(({className:s,...t},a)=>e.jsx($e,{ref:a,className:Y(Ws(),s),...t}));L.displayName=$e.displayName;const Xs=[{value:"light",icon:Hs,label:"Light",desc:"Bright and clean"},{value:"dark",icon:Fs,label:"Dark",desc:"Easy on the eyes"},{value:"system",icon:Os,label:"System",desc:"Match device"}],Zs=o.forwardRef(function(t,a){const{theme:n,setTheme:l}=js();return e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(K,{children:"Appearance"}),e.jsx(V,{children:"Customize the look and feel of the application"})]}),e.jsx(B,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(L,{children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Xs.map(({value:m,icon:i,label:d,desc:v})=>e.jsxs("button",{onClick:()=>l(m),className:`p-4 rounded-xl border-2 transition-all text-left ${n===m?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent/50"}`,children:[e.jsx(i,{className:`h-6 w-6 mb-2 ${n===m?"text-primary":"text-muted-foreground"}`}),e.jsx("div",{className:"font-medium",children:d}),e.jsx("div",{className:"text-xs text-muted-foreground",children:v})]},m))})]})})]})});var Oe=["PageUp","PageDown"],Fe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ke={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Z="Slider",[xe,Qs,et]=ps(Z),[Ve]=ye(Z,[et]),[st,ae]=Ve(Z),He=o.forwardRef((s,t)=>{const{name:a,min:n=0,max:l=100,step:m=1,orientation:i="horizontal",disabled:d=!1,minStepsBetweenThumbs:v=0,defaultValue:u=[n],value:b,onValueChange:p=()=>{},onValueCommit:y=()=>{},inverted:N=!1,form:j,...f}=s,g=o.useRef(new Set),x=o.useRef(0),P=i==="horizontal"?tt:at,[M=[],r]=ve({prop:b,defaultProp:u,onChange:A=>{[...g.current][x.current]?.focus(),p(A)}}),c=o.useRef(M);function h(A){const _=lt(M,A);I(A,_)}function k(A){I(A,x.current)}function C(){const A=c.current[x.current];M[x.current]!==A&&y(M)}function I(A,_,{commit:O}={commit:!1}){const oe=mt(m),Q=ht(Math.round((A-n)/m)*m+n,oe),ee=Ee(Q,[n,l]);r((J=[])=>{const G=ot(J,ee,_);if(ut(G,v*m)){x.current=G.indexOf(ee);const Se=String(G)!==String(J);return Se&&O&&y(G),Se?G:J}else return J})}return e.jsx(st,{scope:s.__scopeSlider,name:a,disabled:d,min:n,max:l,valueIndexToChangeRef:x,thumbs:g.current,values:M,orientation:i,form:j,children:e.jsx(xe.Provider,{scope:s.__scopeSlider,children:e.jsx(xe.Slot,{scope:s.__scopeSlider,children:e.jsx(P,{"aria-disabled":d,"data-disabled":d?"":void 0,...f,ref:t,onPointerDown:q(f.onPointerDown,()=>{d||(c.current=M)}),min:n,max:l,inverted:N,onSlideStart:d?void 0:h,onSlideMove:d?void 0:k,onSlideEnd:d?void 0:C,onHomeKeyDown:()=>!d&&I(n,0,{commit:!0}),onEndKeyDown:()=>!d&&I(l,M.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:_})=>{if(!d){const Q=Oe.includes(A.key)||A.shiftKey&&Fe.includes(A.key)?10:1,ee=x.current,J=M[ee],G=m*Q*_;I(J+G,ee,{commit:!0})}}})})})})});He.displayName=Z;var[qe,Ge]=Ve(Z,{startEdge:"left",endEdge:"right",size:"width",direction:1}),tt=o.forwardRef((s,t)=>{const{min:a,max:n,dir:l,inverted:m,onSlideStart:i,onSlideMove:d,onSlideEnd:v,onStepKeyDown:u,...b}=s,[p,y]=o.useState(null),N=H(t,P=>y(P)),j=o.useRef(void 0),f=xs(l),g=f==="ltr",x=g&&!m||!g&&m;function S(P){const M=j.current||p.getBoundingClientRect(),r=[0,M.width],h=be(r,x?[a,n]:[n,a]);return j.current=M,h(P-M.left)}return e.jsx(qe,{scope:s.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:e.jsx(Ye,{dir:f,"data-orientation":"horizontal",...b,ref:N,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const M=S(P.clientX);i?.(M)},onSlideMove:P=>{const M=S(P.clientX);d?.(M)},onSlideEnd:()=>{j.current=void 0,v?.()},onStepKeyDown:P=>{const r=Ke[x?"from-left":"from-right"].includes(P.key);u?.({event:P,direction:r?-1:1})}})})}),at=o.forwardRef((s,t)=>{const{min:a,max:n,inverted:l,onSlideStart:m,onSlideMove:i,onSlideEnd:d,onStepKeyDown:v,...u}=s,b=o.useRef(null),p=H(t,b),y=o.useRef(void 0),N=!l;function j(f){const g=y.current||b.current.getBoundingClientRect(),x=[0,g.height],P=be(x,N?[n,a]:[a,n]);return y.current=g,P(f-g.top)}return e.jsx(qe,{scope:s.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:e.jsx(Ye,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const g=j(f.clientY);m?.(g)},onSlideMove:f=>{const g=j(f.clientY);i?.(g)},onSlideEnd:()=>{y.current=void 0,d?.()},onStepKeyDown:f=>{const x=Ke[N?"from-bottom":"from-top"].includes(f.key);v?.({event:f,direction:x?-1:1})}})})}),Ye=o.forwardRef((s,t)=>{const{__scopeSlider:a,onSlideStart:n,onSlideMove:l,onSlideEnd:m,onHomeKeyDown:i,onEndKeyDown:d,onStepKeyDown:v,...u}=s,b=ae(Z,a);return e.jsx($.span,{...u,ref:t,onKeyDown:q(s.onKeyDown,p=>{p.key==="Home"?(i(p),p.preventDefault()):p.key==="End"?(d(p),p.preventDefault()):Oe.concat(Fe).includes(p.key)&&(v(p),p.preventDefault())}),onPointerDown:q(s.onPointerDown,p=>{const y=p.target;y.setPointerCapture(p.pointerId),p.preventDefault(),b.thumbs.has(y)?y.focus():n(p)}),onPointerMove:q(s.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&l(p)}),onPointerUp:q(s.onPointerUp,p=>{const y=p.target;y.hasPointerCapture(p.pointerId)&&(y.releasePointerCapture(p.pointerId),m(p))})})}),Je="SliderTrack",We=o.forwardRef((s,t)=>{const{__scopeSlider:a,...n}=s,l=ae(Je,a);return e.jsx($.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...n,ref:t})});We.displayName=Je;var fe="SliderRange",Xe=o.forwardRef((s,t)=>{const{__scopeSlider:a,...n}=s,l=ae(fe,a),m=Ge(fe,a),i=o.useRef(null),d=H(t,i),v=l.values.length,u=l.values.map(y=>es(y,l.min,l.max)),b=v>1?Math.min(...u):0,p=100-Math.max(...u);return e.jsx($.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...n,ref:d,style:{...s.style,[m.startEdge]:b+"%",[m.endEdge]:p+"%"}})});Xe.displayName=fe;var ge="SliderThumb",Ze=o.forwardRef((s,t)=>{const a=Qs(s.__scopeSlider),[n,l]=o.useState(null),m=H(t,d=>l(d)),i=o.useMemo(()=>n?a().findIndex(d=>d.ref.current===n):-1,[a,n]);return e.jsx(nt,{...s,ref:m,index:i})}),nt=o.forwardRef((s,t)=>{const{__scopeSlider:a,index:n,name:l,...m}=s,i=ae(ge,a),d=Ge(ge,a),[v,u]=o.useState(null),b=H(t,S=>u(S)),p=v?i.form||!!v.closest("form"):!0,y=Te(v),N=i.values[n],j=N===void 0?0:es(N,i.min,i.max),f=it(n,i.values.length),g=y?.[d.size],x=g?ct(g,j,d.direction):0;return o.useEffect(()=>{if(v)return i.thumbs.add(v),()=>{i.thumbs.delete(v)}},[v,i.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${j}% + ${x}px)`},children:[e.jsx(xe.ItemSlot,{scope:s.__scopeSlider,children:e.jsx($.span,{role:"slider","aria-label":s["aria-label"]||f,"aria-valuemin":i.min,"aria-valuenow":N,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...m,ref:b,style:N===void 0?{display:"none"}:s.style,onFocus:q(s.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),p&&e.jsx(Qe,{name:l??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:N},n)]})});Ze.displayName=ge;var rt="RadioBubbleInput",Qe=o.forwardRef(({__scopeSlider:s,value:t,...a},n)=>{const l=o.useRef(null),m=H(l,n),i=Le(t);return o.useEffect(()=>{const d=l.current;if(!d)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"value").set;if(i!==t&&b){const p=new Event("input",{bubbles:!0});b.call(d,t),d.dispatchEvent(p)}},[i,t]),e.jsx($.input,{style:{display:"none"},...a,ref:m,defaultValue:t})});Qe.displayName=rt;function ot(s=[],t,a){const n=[...s];return n[a]=t,n.sort((l,m)=>l-m)}function es(s,t,a){const m=100/(a-t)*(s-t);return Ee(m,[0,100])}function it(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function lt(s,t){if(s.length===1)return 0;const a=s.map(l=>Math.abs(l-t)),n=Math.min(...a);return a.indexOf(n)}function ct(s,t,a){const n=s/2,m=be([0,50],[0,n]);return(n-m(t)*a)*a}function dt(s){return s.slice(0,-1).map((t,a)=>s[a+1]-t)}function ut(s,t){if(t>0){const a=dt(s);return Math.min(...a)>=t}return!0}function be(s,t){return a=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(s[1]-s[0]);return t[0]+n*(a-s[0])}}function mt(s){return(String(s).split(".")[1]||"").length}function ht(s,t){const a=Math.pow(10,t);return Math.round(s*a)/a}var ss=He,pt=We,xt=Xe,ft=Ze;const ts=o.forwardRef(({className:s,...t},a)=>e.jsxs(ss,{ref:a,className:Y("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(pt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(xt,{className:"absolute h-full bg-primary"})}),e.jsx(ft,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ts.displayName=ss.displayName;var ne="Switch",[gt]=ye(ne),[vt,yt]=gt(ne),as=o.forwardRef((s,t)=>{const{__scopeSwitch:a,name:n,checked:l,defaultChecked:m,required:i,disabled:d,value:v="on",onCheckedChange:u,form:b,...p}=s,[y,N]=o.useState(null),j=H(t,P=>N(P)),f=o.useRef(!1),g=y?b||!!y.closest("form"):!0,[x,S]=ve({prop:l,defaultProp:m??!1,onChange:u,caller:ne});return e.jsxs(vt,{scope:a,checked:x,disabled:d,children:[e.jsx($.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":is(x),"data-disabled":d?"":void 0,disabled:d,value:v,...p,ref:j,onClick:q(s.onClick,P=>{S(M=>!M),g&&(f.current=P.isPropagationStopped(),f.current||P.stopPropagation())})}),g&&e.jsx(os,{control:y,bubbles:!f.current,name:n,value:v,checked:x,required:i,disabled:d,form:b,style:{transform:"translateX(-100%)"}})]})});as.displayName=ne;var ns="SwitchThumb",rs=o.forwardRef((s,t)=>{const{__scopeSwitch:a,...n}=s,l=yt(ns,a);return e.jsx($.span,{"data-state":is(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:t})});rs.displayName=ns;var bt="SwitchBubbleInput",os=o.forwardRef(({__scopeSwitch:s,control:t,checked:a,bubbles:n=!0,...l},m)=>{const i=o.useRef(null),d=H(i,m),v=Le(a),u=Te(t);return o.useEffect(()=>{const b=i.current;if(!b)return;const p=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(p,"checked").set;if(v!==a&&N){const j=new Event("click",{bubbles:n});N.call(b,a),b.dispatchEvent(j)}},[v,a,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:d,style:{...l.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});os.displayName=bt;function is(s){return s?"checked":"unchecked"}var ls=as,jt=rs;const je=o.forwardRef(({className:s,...t},a)=>e.jsx(ls,{className:Y("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",s),...t,ref:a,children:e.jsx(jt,{className:Y("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));je.displayName=ls.displayName;const wt=[{key:"temperature",label:"Temperature",min:0,max:2,step:.01,desc:"Controls randomness. Lower = more focused"},{key:"maxTokens",label:"Max Tokens",min:256,max:32768,step:256,desc:"Maximum response length"},{key:"topP",label:"Top P",min:0,max:1,step:.01,desc:"Nucleus sampling threshold"},{key:"frequencyPenalty",label:"Frequency Penalty",min:0,max:2,step:.01,desc:"Reduces repetition"},{key:"presencePenalty",label:"Presence Penalty",min:0,max:2,step:.01,desc:"Encourages new topics"}];function Nt({config:s,onConfigChange:t}){const[a,n]=o.useState(()=>localStorage.getItem("anikchat-rag-enabled")==="true"),[l,m]=o.useState(!1),i=u=>{t({...s,...u})},d=()=>{window.confirm("Reset all settings to defaults?")&&(t(_e),w.success("Settings reset to defaults"))},v=async u=>{if(n(u),Ce(u),u&&!Ns()){m(!0),w.info("Loading semantic search model...");const b=await ws();m(!1),b?w.success("Semantic search enabled"):(w.error("Failed to load model. Using basic context."),n(!1),Ce(!1))}else u||w.info("Semantic search disabled - using basic context")};return e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(K,{children:"Advanced Settings"}),e.jsx(V,{children:"Model parameters and features"})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{children:"Semantic Search (RAG)"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enable AI-powered context retrieval for long conversations.",e.jsx("br",{}),e.jsx("span",{className:"text-yellow-600",children:"âš ï¸ Loads ~800KB model, uses more memory"})]})]}),e.jsx(je,{checked:a,onCheckedChange:v,disabled:l})]}),wt.map(({key:u,label:b,min:p,max:y,step:N,desc:j})=>{const f=s[u],g=typeof f=="number"?f:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(L,{className:"text-sm",children:b}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j})]}),e.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:u==="maxTokens"?g:g.toFixed(2)})]}),e.jsx(ts,{value:[g],onValueChange:([x])=>i({[u]:x}),min:p,max:y,step:N})]},u)}),e.jsx("div",{className:"pt-4 border-t",children:e.jsx(D,{variant:"outline",onClick:d,className:"w-full",children:"Reset to Defaults"})})]})]})}function kt({config:s,onConfigChange:t}){return e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(K,{children:"System Prompt"}),e.jsx(V,{children:"Define the AI assistant's personality and behavior"})]}),e.jsxs(B,{children:[e.jsx(ks,{value:s.systemPrompt,onChange:a=>t({...s,systemPrompt:a.target.value}),placeholder:"You are a helpful AI assistant...",className:"min-h-[200px] resize-none"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This prompt is sent at the beginning of every conversation to set the AI's behavior"})]})]})}function Ie(s){if(s===0)return"0 B";const t=1024,a=["B","KB","MB"],n=Math.floor(Math.log(s)/Math.log(t));return`${parseFloat((s/Math.pow(t,n)).toFixed(1))} ${a[n]}`}function St(s){return new Blob([JSON.stringify(s)]).size}function Ct(){let s=0;for(let t=0;t<localStorage.length;t++){const a=localStorage.key(t);if(a?.startsWith("openchat-")){const n=localStorage.getItem(a)||"";s+=new Blob([n]).size}}return s}function Pt({conversations:s,onDeleteConversation:t,onClearConversations:a,onClearAllData:n,onExportAllData:l,onImportData:m}){const i=o.useRef(null),[d,v]=o.useState("localstorage"),[u,b]=o.useState(null),[p,y]=o.useState(!1),[N,j]=o.useState(!1);o.useEffect(()=>{(async()=>(await R.init(),v(R.getStorageType()),b(R.getDirectoryName()),j(R.needsReauthorization())))()},[]);const f=o.useCallback(async()=>{if(!ie()){w.error("File System API not supported in this browser. Try Chrome or Edge.");return}y(!0);try{await R.switchToFileSystem()&&(v("filesystem"),b(R.getDirectoryName()),j(!1),w.success("Folder selected! Your data will be stored locally."))}catch{w.error("Failed to select folder")}finally{y(!1)}},[]),g=o.useCallback(async()=>{y(!0);try{await R.reauthorize()?(j(!1),b(R.getDirectoryName()),w.success("Folder access restored!")):(v("indexeddb"),w.info("Could not access folder. Switched to browser storage."))}catch{w.error("Failed to reauthorize folder access")}finally{y(!1)}},[]),x=o.useCallback(async()=>{y(!0);try{await R.switchToIndexedDB(),v("indexeddb"),b(null),w.success("Switched to browser storage (IndexedDB)")}finally{y(!1)}},[]),S=o.useCallback(async()=>{if(window.confirm("Disconnect from folder? Data in the folder will be preserved.")){y(!0);try{await R.disconnectFileSystem(),v("indexeddb"),b(null),w.success("Disconnected from folder")}finally{y(!1)}}},[]),P=o.useCallback(r=>{const c=r.target.files?.[0];if(!c)return;const h=new FileReader;h.onload=k=>{try{const C=JSON.parse(k.target?.result);if(!C.config&&!C.conversations){w.error("Invalid backup file format");return}const I=C.config&&typeof C.config=="object",A=Array.isArray(C.conversations);if(!I&&!A){w.error("No valid data found in backup file");return}const _=`Import ${A?C.conversations.length+" conversations":""}${I&&A?" and ":""}${I?"settings":""}? This will merge with existing data.`;window.confirm(_)&&(m?.({config:I?C.config:void 0,conversations:A?C.conversations:void 0}),w.success("Data imported successfully"))}catch{w.error("Failed to parse backup file")}},h.readAsText(c),i.current&&(i.current.value="")},[m]),M=Ct();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(U,{className:"border-primary/20",children:[e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-5 w-5 text-primary"}),e.jsx(K,{children:"Storage Location"})]}),e.jsx(V,{children:"Choose where to store your chat data"})]}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3",children:[ie()&&e.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${d==="filesystem"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ss,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Local Folder (SSD/HDD)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:u?`Connected: ${u}/anikchat-data`:"Store data in a folder you choose"})]})]}),d==="filesystem"&&N?e.jsx(D,{size:"sm",onClick:g,disabled:p,children:p?e.jsx(pe,{className:"h-4 w-4 animate-spin"}):"Reconnect"}):d==="filesystem"?e.jsx(D,{variant:"outline",size:"sm",onClick:S,disabled:p,children:"Disconnect"}):e.jsx(D,{size:"sm",onClick:f,disabled:p,children:p?e.jsx(pe,{className:"h-4 w-4 animate-spin"}):"Select Folder"})]}),d==="filesystem"&&N&&e.jsx("p",{className:"text-xs text-amber-500 mt-2",children:'Click "Reconnect" to restore access to your saved folder'})]}),e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${d==="indexeddb"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zs,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Browser Storage (IndexedDB)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Large capacity, works in all browsers"})]})]}),d!=="indexeddb"&&e.jsx(D,{variant:"outline",size:"sm",onClick:x,disabled:p,children:"Use This"}),d==="indexeddb"&&e.jsx(_s,{className:"h-5 w-5 text-primary"})]})})]}),!ie()&&e.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded-lg",children:"ðŸ’¡ Use Chrome or Edge to enable local folder storage"})]})]}),e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(K,{children:"Storage Overview"}),e.jsx(V,{children:"Manage your locally stored data"})]}),e.jsx(B,{children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ie(M)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.length," conversation",s.length!==1?"s":""," stored"]})]}),e.jsx(ze,{className:"h-10 w-10 text-muted-foreground/50"})]})})]}),e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(K,{children:"Stored Conversations"}),e.jsx(V,{children:"Delete individual conversations to free up space"})]}),e.jsx(B,{children:s.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No conversations stored"}):e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto scrollbar-thin",children:s.map(r=>({...r,size:St(r)})).sort((r,c)=>c.size-r.size).map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 hover:bg-muted/50 border border-border rounded-lg group transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-3",children:[e.jsx("p",{className:"font-medium truncate",children:r.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.messages.length," messages Â· ",Ie(r.size),r.summary&&" Â· summarized"]})]}),e.jsx(D,{variant:"ghost",size:"icon",className:"opacity-50 group-hover:opacity-100 hover:bg-destructive/10 hover:text-destructive transition-all",onClick:()=>t(r.id),children:e.jsx(te,{className:"h-4 w-4"})})]},r.id))})})]}),e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(K,{children:"Data Actions"}),e.jsx(V,{children:"Export or clear your data"})]}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(D,{variant:"outline",className:"gap-2",onClick:l,children:[e.jsx(Cs,{className:"h-4 w-4"}),"Export Data"]}),e.jsx("input",{type:"file",ref:i,accept:".json",onChange:P,className:"hidden"}),e.jsxs(D,{variant:"outline",className:"gap-2",onClick:()=>i.current?.click(),children:[e.jsx(Gs,{className:"h-4 w-4"}),"Import Backup"]})]}),e.jsxs(D,{variant:"outline",className:"w-full gap-2 text-orange-500 hover:text-orange-600 hover:border-orange-400",onClick:a,disabled:s.length===0,children:[e.jsx(te,{className:"h-4 w-4"}),"Clear All Conversations"]}),e.jsxs("div",{className:"pt-3 border-t border-border",children:[e.jsxs(D,{variant:"destructive",className:"w-full gap-2",onClick:n,children:[e.jsx(qs,{className:"h-4 w-4"}),"Delete All Data"]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"This will remove all settings, conversations, and summaries"})]})]})]})]})}var re="Collapsible",[Mt]=ye(re),[It,we]=Mt(re),cs=o.forwardRef((s,t)=>{const{__scopeCollapsible:a,open:n,defaultOpen:l,disabled:m,onOpenChange:i,...d}=s,[v,u]=ve({prop:n,defaultProp:l??!1,onChange:i,caller:re});return e.jsx(It,{scope:a,disabled:m,contentId:fs(),open:v,onOpenToggle:o.useCallback(()=>u(b=>!b),[u]),children:e.jsx($.div,{"data-state":ke(v),"data-disabled":m?"":void 0,...d,ref:t})})});cs.displayName=re;var ds="CollapsibleTrigger",us=o.forwardRef((s,t)=>{const{__scopeCollapsible:a,...n}=s,l=we(ds,a);return e.jsx($.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":ke(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...n,ref:t,onClick:q(s.onClick,l.onOpenToggle)})});us.displayName=ds;var Ne="CollapsibleContent",ms=o.forwardRef((s,t)=>{const{forceMount:a,...n}=s,l=we(Ne,s.__scopeCollapsible);return e.jsx(gs,{present:a||l.open,children:({present:m})=>e.jsx(At,{...n,ref:t,present:m})})});ms.displayName=Ne;var At=o.forwardRef((s,t)=>{const{__scopeCollapsible:a,present:n,children:l,...m}=s,i=we(Ne,a),[d,v]=o.useState(n),u=o.useRef(null),b=H(t,u),p=o.useRef(0),y=p.current,N=o.useRef(0),j=N.current,f=i.open||d,g=o.useRef(f),x=o.useRef(void 0);return o.useEffect(()=>{const S=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(S)},[]),vs(()=>{const S=u.current;if(S){x.current=x.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const P=S.getBoundingClientRect();p.current=P.height,N.current=P.width,g.current||(S.style.transitionDuration=x.current.transitionDuration,S.style.animationName=x.current.animationName),v(n)}},[i.open,n]),e.jsx($.div,{"data-state":ke(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!f,...m,ref:b,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...s.style},children:f&&l})});function ke(s){return s?"open":"closed"}var Dt=cs;const Rt=Dt,Et=us,Tt=ms,me=[{id:"openai",name:"OpenAI",baseUrl:"https://api.openai.com/v1",placeholder:"sk-..."},{id:"anthropic",name:"Anthropic",baseUrl:"https://api.anthropic.com/v1",placeholder:"sk-ant-..."},{id:"google",name:"Google AI",baseUrl:"https://generativelanguage.googleapis.com/v1beta/openai",placeholder:"AIza..."},{id:"groq",name:"Groq",baseUrl:"https://api.groq.com/openai/v1",placeholder:"gsk_..."},{id:"mistral",name:"Mistral AI",baseUrl:"https://api.mistral.ai/v1",placeholder:"api-key"},{id:"together",name:"Together AI",baseUrl:"https://api.together.xyz/v1",placeholder:"api-key"},{id:"openrouter",name:"OpenRouter",baseUrl:"https://openrouter.ai/api/v1",placeholder:"sk-or-..."},{id:"deepseek",name:"DeepSeek",baseUrl:"https://api.deepseek.com/v1",placeholder:"sk-..."},{id:"fireworks",name:"Fireworks AI",baseUrl:"https://api.fireworks.ai/inference/v1",placeholder:"fw_..."},{id:"perplexity",name:"Perplexity",baseUrl:"https://api.perplexity.ai",placeholder:"pplx-..."},{id:"nebius",name:"Nebius Token Factory",baseUrl:"https://api.tokenfactory.nebius.com/v1",placeholder:"api-key"},{id:"sambanova",name:"SambaNova Cloud",baseUrl:"https://api.sambanova.ai/v1",placeholder:"api-key"},{id:"ollama",name:"Ollama (Local)",baseUrl:"http://localhost:11434/v1",placeholder:"optional"},{id:"lmstudio",name:"LM Studio (Local)",baseUrl:"http://localhost:1234/v1",placeholder:"optional"},{id:"custom",name:"OpenAI Compatible (Custom)",baseUrl:"",placeholder:"api-key"}];function Lt({config:s,onConfigChange:t}){const[a,n]=o.useState(new Set),[l,m]=o.useState(new Set),i=s.providers??[],d=o.useCallback(r=>{n(c=>{const h=new Set(c);return h.has(r)?h.delete(r):h.add(r),h})},[]),v=o.useCallback(r=>{m(c=>{const h=new Set(c);return h.has(r)?h.delete(r):h.add(r),h})},[]),u=o.useCallback(r=>{const c=me.find(k=>k.id===r);if(!c)return;const h={id:Pe(),name:c.name,baseUrl:c.baseUrl,apiKey:"",models:[]};t({...s,providers:[...i,h]}),n(k=>new Set(k).add(h.id)),w.success(`${c.name} provider added`)},[s,i,t]),b=o.useCallback((r,c)=>{t({...s,providers:i.map(h=>h.id===r?{...h,...c}:h)})},[s,i,t]),p=o.useCallback(r=>{if(!window.confirm("Delete this provider and all its models?"))return;const c=i.filter(C=>C.id!==r);let h=s.activeProviderId,k=s.activeModelId;s.activeProviderId===r&&(h=null,k=null),t({...s,providers:c,activeProviderId:h,activeModelId:k}),w.success("Provider deleted")},[s,i,t]),y=o.useCallback(r=>{const c={id:Pe(),modelId:"",displayName:"New Model",isVisionModel:!1};t({...s,providers:i.map(h=>h.id===r?{...h,models:[...h.models,c]}:h)}),w.success("Model added")},[s,i,t]),N=o.useCallback((r,c,h)=>{t({...s,providers:i.map(k=>k.id===r?{...k,models:k.models.map(C=>C.id===c?{...C,...h}:C)}:k)})},[s,i,t]),j=o.useCallback((r,c)=>{let h=s.activeProviderId,k=s.activeModelId;s.activeModelId===c&&(h=null,k=null),t({...s,providers:i.map(C=>C.id===r?{...C,models:C.models.filter(I=>I.id!==c)}:C),activeProviderId:h,activeModelId:k}),w.success("Model deleted")},[s,i,t]),f=o.useCallback((r,c)=>{const h=i.find(C=>C.id===r);if(!h?.apiKey&&!h?.baseUrl.includes("localhost")){w.error("Please add an API key for this provider first");return}t({...s,activeProviderId:r,activeModelId:c});const k=h.models.find(C=>C.id===c);w.success(`Activated: ${k?.displayName||k?.modelId}`)},[s,i,t]),[g,x]=o.useState(null),S=o.useCallback(async r=>{const c=i.find(I=>I.id===r);if(!c)return;const h=c.baseUrl.includes("localhost")||c.baseUrl.includes("127.0.0.1");if(!c.apiKey&&!h){w.error("Please add an API key first");return}if(c.models.length===0){w.error("Please add at least one model first");return}x(r);const k=c.models[0],C=c.baseUrl.replace(/\/+$/,"");try{const I={"Content-Type":"application/json"};c.apiKey&&(I.Authorization=`Bearer ${c.apiKey}`);const A=new AbortController,_=setTimeout(()=>A.abort(),15e3),O=await fetch(`${C}/chat/completions`,{method:"POST",headers:I,body:JSON.stringify({model:k.modelId,messages:[{role:"user",content:"Hi"}],max_tokens:5}),signal:A.signal});if(clearTimeout(_),O.ok)w.success(`${c.name} connection successful!`);else{const Q=(await O.json().catch(()=>({}))).error?.message||`Error ${O.status}`;O.status===401?w.error("Invalid API key"):O.status===404?w.error(`Model "${k.modelId}" not found. Check the model ID.`):O.status===429?w.error("Rate limited. Connection works but try again later."):w.error(`Connection failed: ${Q}`)}}catch(I){I instanceof Error?I.name==="AbortError"?w.error("Connection timed out. Check the base URL."):I.message.includes("Failed to fetch")?w.error("Cannot connect. Check base URL and network."):w.error(`Error: ${I.message}`):w.error("Unknown error occurred")}finally{x(null)}},[i]),P=r=>me.find(h=>h.name===r)?.placeholder||"api-key",M=r=>{const c=me.find(h=>h.name===r.name);return r.name==="OpenAI Compatible (Custom)"||!c};return e.jsxs("div",{className:"space-y-4",children:[s.activeProviderId&&s.activeModelId&&e.jsx(U,{className:"border-green-500/50 bg-green-500/5",children:e.jsx(B,{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Active:"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{const r=i.find(h=>h.id===s.activeProviderId),c=r?.models.find(h=>h.id===s.activeModelId);return`${r?.name} â†’ ${c?.displayName||c?.modelId}`})()})]})})}),i.map(r=>e.jsx(U,{className:"overflow-hidden",children:e.jsxs(Rt,{open:a.has(r.id),onOpenChange:()=>d(r.id),children:[e.jsx(Et,{asChild:!0,children:e.jsx(F,{className:"cursor-pointer hover:bg-accent/50 transition-colors py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a.has(r.id)?e.jsx(Ps,{className:"h-4 w-4"}):e.jsx(Ms,{className:"h-4 w-4"}),e.jsx(z,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx(K,{className:"text-base",children:r.name}),e.jsxs(V,{className:"text-xs",children:[r.models.length," model",r.models.length!==1?"s":"",!r.apiKey&&!r.baseUrl.includes("localhost")&&" â€¢ No API key"]})]})]}),e.jsx(D,{variant:"ghost",size:"icon",onClick:c=>{c.stopPropagation(),p(r.id)},className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(te,{className:"h-4 w-4"})})]})})}),e.jsx(Tt,{children:e.jsxs(B,{className:"space-y-4 pt-0",children:[e.jsxs("div",{className:"grid gap-4 p-4 bg-muted/30 rounded-lg",children:[M(r)?e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Base URL"}),e.jsx(se,{value:r.baseUrl,onChange:c=>b(r.id,{baseUrl:c.target.value}),placeholder:"https://api.example.com/v1",className:"font-mono text-sm"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{className:"text-muted-foreground",children:"Base URL"}),e.jsx("p",{className:"text-xs font-mono text-muted-foreground bg-muted/50 px-3 py-2 rounded",children:r.baseUrl})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"API Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{type:l.has(r.id)?"text":"password",value:r.apiKey,onChange:c=>b(r.id,{apiKey:c.target.value}),placeholder:P(r.name),className:"font-mono text-sm pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>v(r.id),children:l.has(r.id)?e.jsx(Us,{className:"h-4 w-4"}):e.jsx(Is,{className:"h-4 w-4"})})]}),r.baseUrl.includes("localhost")&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"API key is optional for local providers"})]}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>S(r.id),disabled:g===r.id||r.models.length===0,className:"gap-2",children:g===r.id?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"h-4 w-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-4 w-4"}),"Test Connection"]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{className:"text-sm font-medium",children:"Models"}),e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>y(r.id),className:"gap-1",children:[e.jsx(ce,{className:"h-3 w-3"}),"Add Model"]})]}),r.models.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No models added yet. Add a model with its Model ID."}):e.jsx("div",{className:"space-y-2",children:r.models.map(c=>{const h=s.activeProviderId===r.id&&s.activeModelId===c.id;return e.jsx("div",{className:`p-3 rounded-lg border transition-all ${h?"border-green-500 bg-green-500/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(de,{className:`h-4 w-4 mt-1 ${h?"text-green-500":"text-muted-foreground"}`}),e.jsxs("div",{className:"flex-1 grid gap-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{className:"text-xs",children:"Display Name"}),e.jsx(se,{value:c.displayName,onChange:k=>N(r.id,c.id,{displayName:k.target.value}),placeholder:"GPT-4o",className:"h-8 text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{className:"text-xs",children:"Model ID"}),e.jsx(se,{value:c.modelId,onChange:k=>N(r.id,c.id,{modelId:k.target.value}),placeholder:"gpt-4o",className:"h-8 text-sm font-mono"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{checked:c.isVisionModel,onCheckedChange:k=>N(r.id,c.id,{isVisionModel:k})}),e.jsx(L,{className:"text-xs text-muted-foreground",children:"Vision capable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:h?"default":"outline",size:"sm",onClick:()=>f(r.id,c.id),className:"gap-1",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-3 w-3"}),"Active"]}):"Activate"}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>j(r.id,c.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10 px-2",children:e.jsx(te,{className:"h-3 w-3"})})]})]})]})]})},c.id)})})]})]})})]})},r.id)),e.jsxs(As,{children:[e.jsx(Ds,{asChild:!0,children:e.jsxs(D,{variant:"outline",className:"w-full border-dashed justify-start gap-2 text-muted-foreground",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Add LLM Provider"})]})}),e.jsxs(Rs,{className:"w-64",align:"start",children:[e.jsx(ue,{className:"text-xs text-muted-foreground",children:"Cloud Providers"}),e.jsxs(E,{onClick:()=>u("openai"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," OpenAI"]}),e.jsxs(E,{onClick:()=>u("anthropic"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," Anthropic (Claude)"]}),e.jsxs(E,{onClick:()=>u("google"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," Google AI (Gemini)"]}),e.jsxs(E,{onClick:()=>u("groq"),className:"cursor-pointer",children:[e.jsx(le,{className:"h-4 w-4 mr-2"})," Groq"]}),e.jsxs(E,{onClick:()=>u("mistral"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," Mistral AI"]}),e.jsxs(E,{onClick:()=>u("together"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," Together AI"]}),e.jsxs(E,{onClick:()=>u("openrouter"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," OpenRouter"]}),e.jsxs(E,{onClick:()=>u("deepseek"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," DeepSeek"]}),e.jsxs(E,{onClick:()=>u("fireworks"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," Fireworks AI"]}),e.jsxs(E,{onClick:()=>u("perplexity"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," Perplexity"]}),e.jsxs(E,{onClick:()=>u("nebius"),className:"cursor-pointer",children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," Nebius Token Factory"]}),e.jsxs(E,{onClick:()=>u("sambanova"),className:"cursor-pointer",children:[e.jsx(le,{className:"h-4 w-4 mr-2"})," SambaNova Cloud"]}),e.jsx(Me,{}),e.jsx(ue,{className:"text-xs text-muted-foreground",children:"Local Providers"}),e.jsxs(E,{onClick:()=>u("ollama"),className:"cursor-pointer",children:[e.jsx(de,{className:"h-4 w-4 mr-2"})," Ollama (Local)"]}),e.jsxs(E,{onClick:()=>u("lmstudio"),className:"cursor-pointer",children:[e.jsx(de,{className:"h-4 w-4 mr-2"})," LM Studio (Local)"]}),e.jsx(Me,{}),e.jsx(ue,{className:"text-xs text-muted-foreground",children:"Custom"}),e.jsxs(E,{onClick:()=>u("custom"),className:"cursor-pointer",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"})," OpenAI Compatible (Custom)"]})]})]}),i.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Select a provider above to get started"})]})}function _t({config:s,onConfigChange:t}){const a=n=>{t({...s,...n})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(K,{children:"LLM Providers"}),e.jsx(V,{children:"Configure your AI providers and models."})]}),e.jsx(B,{children:e.jsx(Lt,{config:s,onConfigChange:t})})]}),e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(K,{children:"Active Model"}),e.jsx(V,{children:"Select which model to use for conversations"})]}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Select Model"}),e.jsxs("select",{className:"w-full p-2.5 rounded-md border border-border bg-background text-sm",value:`${s.activeProviderId}:${s.activeModelId}`,onChange:n=>{const[l,m]=n.target.value.split(":");a({activeProviderId:l||null,activeModelId:m||null})},children:[e.jsx("option",{value:":",children:"Select a model..."}),(s.providers||[]).flatMap(n=>n.models.map(l=>e.jsxs("option",{value:`${n.id}:${l.id}`,children:[n.name," / ",l.displayName," ",l.isVisionModel&&"ðŸ‘ï¸"]},`${n.id}:${l.id}`)))]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This model handles all chat interactions. Vision models (ðŸ‘ï¸) can process images directly."})]})})]})]})}function Kt(){const s=ys(),[t,a]=Es(_e),[n,l]=o.useState([]),[m,i]=o.useState(!1);o.useEffect(()=>{(async()=>{try{const f=await R.listConversations(),g=[];for(const x of f){const S=await R.getConversation(x);S&&g.push(S)}g.sort((x,S)=>new Date(S.updatedAt).getTime()-new Date(x.updatedAt).getTime()),l(g)}catch{const f=localStorage.getItem("openchat-conversations");f&&l(JSON.parse(f))}})()},[]);const d=o.useCallback(j=>{a(j)},[a]),v=o.useCallback(()=>{i(!0),w.success("Settings saved"),setTimeout(()=>i(!1),2e3)},[]),u=o.useCallback(()=>{const j={config:t,conversations:n,exportedAt:new Date().toISOString()},f=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),g=URL.createObjectURL(f),x=document.createElement("a");x.href=g,x.download=`anikchat-backup-${new Date().toISOString().split("T")[0]}.json`,x.click(),URL.revokeObjectURL(g),w.success("Data exported successfully")},[t,n]),b=o.useCallback(async j=>{window.confirm("Delete this conversation?")&&(await R.deleteConversation(j),l(f=>f.filter(g=>g.id!==j)),w.success("Conversation deleted"))},[]),p=o.useCallback(async()=>{if(window.confirm("Delete all conversations? This cannot be undone.")){for(const j of n)await R.deleteConversation(j.id);l([]),w.success("All conversations deleted")}},[n]),y=o.useCallback(async()=>{window.confirm("âš ï¸ Delete ALL data? This cannot be undone!")&&(await R.clearAll(),localStorage.removeItem("openchat-config"),localStorage.removeItem("openchat-conversations"),w.success("All data cleared"),window.location.reload())},[]),N=o.useCallback(async j=>{if(j.config&&a(f=>({...f,...j.config,providers:[...f.providers,...(j.config?.providers||[]).filter(g=>!f.providers.some(x=>x.id===g.id))]})),j.conversations){const f=new Set(n.map(x=>x.id)),g=j.conversations.filter(x=>!f.has(x.id));for(const x of g)await R.saveConversation(x.id,x);l(x=>[...g,...x])}},[a,n]);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-14 flex items-center gap-4",children:[e.jsx(D,{variant:"ghost",size:"icon",onClick:()=>s("/"),children:e.jsx(Ls,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold",children:"Settings"}),e.jsx("div",{className:"flex-1"}),e.jsxs(D,{onClick:v,className:"gap-2",children:[m&&e.jsx(he,{className:"h-4 w-4"}),m?"Saved!":"Save Changes"]})]})}),e.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs(Ys,{defaultValue:"appearance",className:"space-y-6",children:[e.jsxs(Ue,{className:"grid w-full grid-cols-5 h-auto p-1",children:[e.jsxs(W,{value:"appearance",className:"gap-2 py-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Appearance"})]}),e.jsxs(W,{value:"api",className:"gap-2 py-2",children:[e.jsx($s,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"API"})]}),e.jsxs(W,{value:"prompt",className:"gap-2 py-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prompt"})]}),e.jsxs(W,{value:"advanced",className:"gap-2 py-2",children:[e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"})]}),e.jsxs(W,{value:"data",className:"gap-2 py-2",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Data"})]})]}),e.jsx(X,{value:"appearance",children:e.jsx(Zs,{})}),e.jsx(X,{value:"api",children:e.jsx(_t,{config:t,onConfigChange:d})}),e.jsx(X,{value:"prompt",children:e.jsx(kt,{config:t,onConfigChange:d})}),e.jsx(X,{value:"advanced",children:e.jsx(Nt,{config:t,onConfigChange:d})}),e.jsx(X,{value:"data",children:e.jsx(Pt,{conversations:n,onDeleteConversation:b,onClearConversations:p,onClearAllData:y,onExportAllData:u,onImportData:N})})]})})]})}export{Kt as default};
